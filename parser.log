container:  187a2420ba58 lines:  5
container: 187a2420ba58 line: 			tp.deleted_at IS NULL
container: 187a2420ba58 entry: &{Raw:			tp.deleted_at IS NULL Timestamp: Level: File: Message:			tp.deleted_at IS NULL Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: <nil>
container: 187a2420ba58 line: 			 [36mdb.operation=[0mupdate [36mdb.rows=[0m1 [36mdb.table=[0m [36mduration=[0m6.904812 [36mlocation=[0m["/app/pkg/repository/threadparticipant/repository.go:425","/app/pkg/operations/thread/threadparticipant.go:57","/app/pkg/graphql/resolvers/threads/mutations.go:361"] [36mrequest_id=[0mba52b59d [36mspan_id=[0m3cc9f0cf9b915927 [36mtrace_id=[0maf0c1cece061775fe1e9fbce7c15290e
container: 187a2420ba58 entry: &{Raw:			 [36mdb.operation=[0mupdate [36mdb.rows=[0m1 [36mdb.table=[0m [36mduration=[0m6.904812 [36mlocation=[0m["/app/pkg/repository/threadparticipant/repository.go:425","/app/pkg/operations/thread/threadparticipant.go:57","/app/pkg/graphql/resolvers/threads/mutations.go:361"] [36mrequest_id=[0mba52b59d [36mspan_id=[0m3cc9f0cf9b915927 [36mtrace_id=[0maf0c1cece061775fe1e9fbce7c15290e Timestamp: Level: File:/app/pkg/repository/threadparticipant/repository.go:425 Message: Fields:map[db.operation:update db.rows:1 db.table: duration:6.904812 location:["","/app/pkg/operations/thread/threadparticipant.go:57","/app/pkg/graphql/resolvers/threads/mutations.go:361"] request_id:ba52b59d span_id:3cc9f0cf9b915927 trace_id:af0c1cece061775fe1e9fbce7c15290e] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:			tp.deleted_at IS NULL Timestamp: Level: File: Message:			tp.deleted_at IS NULL Fields:map[] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:26:04.213529[0m [32mINF[0m [1mpkg/tasks/task.go:125[0m[36m >[0m [1mEnqueued[0m [36mmessage_id=[0m5a47c36d-6714-456f-a17f-86e01acf8a8a [36mrequest_id=[0mba52b59d [36mtask=[0mSyncBadge [36mtask_id=[0mnotifications:SyncBadge:uXepAyvyYyIiwPuI2lHT88vUYfs:1759781700 [36mtrace_id=[0maf0c1cece061775fe1e9fbce7c15290e-d61ff081e4abde31-1
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:26:04.213529[0m [32mINF[0m [1mpkg/tasks/task.go:125[0m[36m >[0m [1mEnqueued[0m [36mmessage_id=[0m5a47c36d-6714-456f-a17f-86e01acf8a8a [36mrequest_id=[0mba52b59d [36mtask=[0mSyncBadge [36mtask_id=[0mnotifications:SyncBadge:uXepAyvyYyIiwPuI2lHT88vUYfs:1759781700 [36mtrace_id=[0maf0c1cece061775fe1e9fbce7c15290e-d61ff081e4abde31-1 Timestamp:Oct  6 20:26:04.213529 INF Level: File:pkg/tasks/task.go:125 Message:Enqueued Fields:map[message_id:5a47c36d-6714-456f-a17f-86e01acf8a8a request_id:ba52b59d task:SyncBadge task_id:notifications:SyncBadge:uXepAyvyYyIiwPuI2lHT88vUYfs:1759781700 trace_id:af0c1cece061775fe1e9fbce7c15290e-d61ff081e4abde31-1] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:			tp.deleted_at IS NULL
container: 187a2420ba58 line: [90mOct  6 20:26:04.213850[0m [34mTRC[0m [1mpkg/repository/threadrecipient/repository.go:322[0m[36m >[0m [sql]: SELECT min(tr.id) AS id, min(tr.created_at) AS created_at, max(tr.updated_at) AS updated_at, NULL AS deleted_at, tr.thread_id, tr.user_id, max(tr.recipient_user_id) AS recipient_user_id, array_agg(tr.recipient_group_id) AS recipient_group_ids, array_agg(tr.recipient_workspace_id) AS recipient_workspace_ids, max(tr.role) AS role, COALESCE(tp.subscription, max(tr.thread_subscription), 'inbox') AS subscription, last_read_id, last_seen_id, archived_at, remind_at, starred_at, unread_at, stream_joined_at, last_mention_message_id, tp.mailboxes AS mailboxes FROM thread_recipients_users tr LEFT JOIN thread_participants tp ON tp.thread_id = tr.thread_id AND tp.user_id = tr.user_id AND tp.deleted_at IS NULL GROUP BY tr.thread_id, tr.user_id, tp.id [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0m [36mduration=[0m0.000292 [36mlocation=[0m["/app/pkg/repository/threadrecipient/repository.go:322","/app/pkg/graphql/resolvers/threads/mutations.go:372","/usr/local/go/src/reflect/value.go:581"] [36mrequest_id=[0mba52b59d
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:26:04.213850[0m [34mTRC[0m [1mpkg/repository/threadrecipient/repository.go:322[0m[36m >[0m [sql]: SELECT min(tr.id) AS id, min(tr.created_at) AS created_at, max(tr.updated_at) AS updated_at, NULL AS deleted_at, tr.thread_id, tr.user_id, max(tr.recipient_user_id) AS recipient_user_id, array_agg(tr.recipient_group_id) AS recipient_group_ids, array_agg(tr.recipient_workspace_id) AS recipient_workspace_ids, max(tr.role) AS role, COALESCE(tp.subscription, max(tr.thread_subscription), 'inbox') AS subscription, last_read_id, last_seen_id, archived_at, remind_at, starred_at, unread_at, stream_joined_at, last_mention_message_id, tp.mailboxes AS mailboxes FROM thread_recipients_users tr LEFT JOIN thread_participants tp ON tp.thread_id = tr.thread_id AND tp.user_id = tr.user_id AND tp.deleted_at IS NULL GROUP BY tr.thread_id, tr.user_id, tp.id [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0m [36mduration=[0m0.000292 [36mlocation=[0m["/app/pkg/repository/threadrecipient/repository.go:322","/app/pkg/graphql/resolvers/threads/mutations.go:372","/usr/local/go/src/reflect/value.go:581"] [36mrequest_id=[0mba52b59d Timestamp:Oct  6 20:26:04.213850 TRC Level: File:pkg/repository/threadrecipient/repository.go:322 Message:[sql]: SELECT min(tr.id) AS id, min(tr.created_at) AS created_at, max(tr.updated_at) AS updated_at, NULL AS deleted_at, tr.thread_id, tr.user_id, max(tr.recipient_user_id) AS recipient_user_id, array_agg(tr.recipient_group_id) AS recipient_group_ids, array_agg(tr.recipient_workspace_id) AS recipient_workspace_ids, max(tr.role) AS role, COALESCE(tp.subscription, max(tr.thread_subscription), 'inbox') AS subscription, last_read_id, last_seen_id, archived_at, remind_at, starred_at, unread_at, stream_joined_at, last_mention_message_id, tp.mailboxes AS mailboxes FROM thread_recipients_users tr LEFT JOIN thread_participants tp ON tp.thread_id = tr.thread_id AND tp.user_id = tr.user_id AND tp.deleted_at IS NULL GROUP BY tr.thread_id, tr.user_id, tp.id Fields:map[db.operation:select db.rows:0 db.table: duration:0.000292 location:["/app/pkg/repository/threadrecipient/repository.go:322","/app/pkg/graphql/resolvers/threads/mutations.go:372","/usr/local/go/src/reflect/value.go:581"] request_id:ba52b59d] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.213529[0m [32mINF[0m [1mpkg/tasks/task.go:125[0m[36m >[0m [1mEnqueued[0m [36mmessage_id=[0m5a47c36d-6714-456f-a17f-86e01acf8a8a [36mrequest_id=[0mba52b59d [36mtask=[0mSyncBadge [36mtask_id=[0mnotifications:SyncBadge:uXepAyvyYyIiwPuI2lHT88vUYfs:1759781700 [36mtrace_id=[0maf0c1cece061775fe1e9fbce7c15290e-d61ff081e4abde31-1 Timestamp:Oct  6 20:26:04.213529 INF Level: File:pkg/tasks/task.go:125 Message:Enqueued Fields:map[message_id:5a47c36d-6714-456f-a17f-86e01acf8a8a request_id:ba52b59d task:SyncBadge task_id:notifications:SyncBadge:uXepAyvyYyIiwPuI2lHT88vUYfs:1759781700 trace_id:af0c1cece061775fe1e9fbce7c15290e-d61ff081e4abde31-1] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: 
container: 187a2420ba58 entry: &{Raw: Timestamp: Level: File: Message: Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.213850[0m [34mTRC[0m [1mpkg/repository/threadrecipient/repository.go:322[0m[36m >[0m [sql]: SELECT min(tr.id) AS id, min(tr.created_at) AS created_at, max(tr.updated_at) AS updated_at, NULL AS deleted_at, tr.thread_id, tr.user_id, max(tr.recipient_user_id) AS recipient_user_id, array_agg(tr.recipient_group_id) AS recipient_group_ids, array_agg(tr.recipient_workspace_id) AS recipient_workspace_ids, max(tr.role) AS role, COALESCE(tp.subscription, max(tr.thread_subscription), 'inbox') AS subscription, last_read_id, last_seen_id, archived_at, remind_at, starred_at, unread_at, stream_joined_at, last_mention_message_id, tp.mailboxes AS mailboxes FROM thread_recipients_users tr LEFT JOIN thread_participants tp ON tp.thread_id = tr.thread_id AND tp.user_id = tr.user_id AND tp.deleted_at IS NULL GROUP BY tr.thread_id, tr.user_id, tp.id [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0m [36mduration=[0m0.000292 [36mlocation=[0m["/app/pkg/repository/threadrecipient/repository.go:322","/app/pkg/graphql/resolvers/threads/mutations.go:372","/usr/local/go/src/reflect/value.go:581"] [36mrequest_id=[0mba52b59d Timestamp:Oct  6 20:26:04.213850 TRC Level: File:pkg/repository/threadrecipient/repository.go:322 Message:[sql]: SELECT min(tr.id) AS id, min(tr.created_at) AS created_at, max(tr.updated_at) AS updated_at, NULL AS deleted_at, tr.thread_id, tr.user_id, max(tr.recipient_user_id) AS recipient_user_id, array_agg(tr.recipient_group_id) AS recipient_group_ids, array_agg(tr.recipient_workspace_id) AS recipient_workspace_ids, max(tr.role) AS role, COALESCE(tp.subscription, max(tr.thread_subscription), 'inbox') AS subscription, last_read_id, last_seen_id, archived_at, remind_at, starred_at, unread_at, stream_joined_at, last_mention_message_id, tp.mailboxes AS mailboxes FROM thread_recipients_users tr LEFT JOIN thread_participants tp ON tp.thread_id = tr.thread_id AND tp.user_id = tr.user_id AND tp.deleted_at IS NULL GROUP BY tr.thread_id, tr.user_id, tp.id Fields:map[db.operation:select db.rows:0 db.table: duration:0.000292 location:["/app/pkg/repository/threadrecipient/repository.go:322","/app/pkg/graphql/resolvers/threads/mutations.go:372","/usr/local/go/src/reflect/value.go:581"] request_id:ba52b59d] IsJSON:false JSONFields:map[]}
container:  187a2420ba58 lines:  7
container: 187a2420ba58 line: [90mOct  6 20:26:04.216257[0m [34mTRC[0m [1mpkg/repository/threadrecipient/repository.go:322[0m[36m >[0m [sql]: SELECT * FROM (SELECT min(tr.id) AS id, min(tr.created_at) AS created_at, max(tr.updated_at) AS updated_at, NULL AS deleted_at, tr.thread_id, tr.user_id, max(tr.recipient_user_id) AS recipient_user_id, array_agg(tr.recipient_group_id) AS recipient_group_ids, array_agg(tr.recipient_workspace_id) AS recipient_workspace_ids, max(tr.role) AS role, COALESCE(tp.subscription, max(tr.thread_subscription), 'inbox') AS subscription, last_read_id, last_seen_id, archived_at, remind_at, starred_at, unread_at, stream_joined_at, last_mention_message_id, tp.mailboxes AS mailboxes FROM thread_recipients_users tr LEFT JOIN thread_participants tp ON tp.thread_id = tr.thread_id AND tp.user_id = tr.user_id AND tp.deleted_at IS NULL GROUP BY tr.thread_id, tr.user_id, tp.id) AS tra WHERE (user_id = $1 AND thread_id IN ($2)) AND "tra"."deleted_at" IS NULL [36mdb.operation=[0mselect [36mdb.rows=[0m1 [36mdb.table=[0mtra [36mduration=[0m2.563492 [36mlocation=[0m["/app/pkg/repository/threadrecipient/repository.go:322","/app/pkg/graphql/resolvers/threads/mutations.go:372","/usr/local/go/src/reflect/value.go:581"] [36mrequest_id=[0mba52b59d [36mspan_id=[0m682f73b2e4daabd6 [36mtrace_id=[0maf0c1cece061775fe1e9fbce7c15290e
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:26:04.216257[0m [34mTRC[0m [1mpkg/repository/threadrecipient/repository.go:322[0m[36m >[0m [sql]: SELECT * FROM (SELECT min(tr.id) AS id, min(tr.created_at) AS created_at, max(tr.updated_at) AS updated_at, NULL AS deleted_at, tr.thread_id, tr.user_id, max(tr.recipient_user_id) AS recipient_user_id, array_agg(tr.recipient_group_id) AS recipient_group_ids, array_agg(tr.recipient_workspace_id) AS recipient_workspace_ids, max(tr.role) AS role, COALESCE(tp.subscription, max(tr.thread_subscription), 'inbox') AS subscription, last_read_id, last_seen_id, archived_at, remind_at, starred_at, unread_at, stream_joined_at, last_mention_message_id, tp.mailboxes AS mailboxes FROM thread_recipients_users tr LEFT JOIN thread_participants tp ON tp.thread_id = tr.thread_id AND tp.user_id = tr.user_id AND tp.deleted_at IS NULL GROUP BY tr.thread_id, tr.user_id, tp.id) AS tra WHERE (user_id = $1 AND thread_id IN ($2)) AND "tra"."deleted_at" IS NULL [36mdb.operation=[0mselect [36mdb.rows=[0m1 [36mdb.table=[0mtra [36mduration=[0m2.563492 [36mlocation=[0m["/app/pkg/repository/threadrecipient/repository.go:322","/app/pkg/graphql/resolvers/threads/mutations.go:372","/usr/local/go/src/reflect/value.go:581"] [36mrequest_id=[0mba52b59d [36mspan_id=[0m682f73b2e4daabd6 [36mtrace_id=[0maf0c1cece061775fe1e9fbce7c15290e Timestamp:Oct  6 20:26:04.216257 TRC Level: File:pkg/repository/threadrecipient/repository.go:322 Message:[sql]: SELECT * FROM (SELECT min(tr.id) AS id, min(tr.created_at) AS created_at, max(tr.updated_at) AS updated_at, NULL AS deleted_at, tr.thread_id, tr.user_id, max(tr.recipient_user_id) AS recipient_user_id, array_agg(tr.recipient_group_id) AS recipient_group_ids, array_agg(tr.recipient_workspace_id) AS recipient_workspace_ids, max(tr.role) AS role, COALESCE(tp.subscription, max(tr.thread_subscription), 'inbox') AS subscription, last_read_id, last_seen_id, archived_at, remind_at, starred_at, unread_at, stream_joined_at, last_mention_message_id, tp.mailboxes AS mailboxes FROM thread_recipients_users tr LEFT JOIN thread_participants tp ON tp.thread_id = tr.thread_id AND tp.user_id = tr.user_id AND tp.deleted_at IS NULL GROUP BY tr.thread_id, tr.user_id, tp.id) AS tra WHERE (user_id = $1 AND thread_id IN ($2)) AND "tra"."deleted_at" IS NULL Fields:map[db.operation:select db.rows:1 db.table:tra duration:2.563492 location:["/app/pkg/repository/threadrecipient/repository.go:322","/app/pkg/graphql/resolvers/threads/mutations.go:372","/usr/local/go/src/reflect/value.go:581"] request_id:ba52b59d span_id:682f73b2e4daabd6 trace_id:af0c1cece061775fe1e9fbce7c15290e] IsJSON:false JSONFields:map[]} previousLogEntry: <nil>
container: 187a2420ba58 line: [90mOct  6 20:26:04.222533[0m [34mTRC[0m [1mpkg/repository/threadrecipient/repository.go:679[0m[36m >[0m [sql]: SELECT min(tr.id) AS id, min(tr.created_at) AS created_at, max(tr.updated_at) AS updated_at, NULL AS deleted_at, tr.thread_id, tr.user_id, max(tr.recipient_user_id) AS recipient_user_id, array_agg(tr.recipient_group_id) AS recipient_group_ids, array_agg(tr.recipient_workspace_id) AS recipient_workspace_ids, max(tr.role) AS role, COALESCE(tp.subscription, max(tr.thread_subscription), 'inbox') AS subscription, last_read_id, last_seen_id, archived_at, remind_at, starred_at, unread_at, stream_joined_at, last_mention_message_id, tp.mailboxes AS mailboxes FROM thread_recipients_users tr LEFT JOIN thread_participants tp ON tp.thread_id = tr.thread_id AND tp.user_id = tr.user_id AND tp.deleted_at IS NULL GROUP BY tr.thread_id, tr.user_id, tp.id [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0m [36mduration=[0m0.000167 [36mlocation=[0m["/app/pkg/repository/threadrecipient/repository.go:679","/app/pkg/repository/loader/loader.go:293","/go/pkg/mod/github.com/graph-gophers/dataloader@v5.0.0+incompatible/dataloader.go:432"] [36mrequest_id=[0mba52b59d
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:26:04.222533[0m [34mTRC[0m [1mpkg/repository/threadrecipient/repository.go:679[0m[36m >[0m [sql]: SELECT min(tr.id) AS id, min(tr.created_at) AS created_at, max(tr.updated_at) AS updated_at, NULL AS deleted_at, tr.thread_id, tr.user_id, max(tr.recipient_user_id) AS recipient_user_id, array_agg(tr.recipient_group_id) AS recipient_group_ids, array_agg(tr.recipient_workspace_id) AS recipient_workspace_ids, max(tr.role) AS role, COALESCE(tp.subscription, max(tr.thread_subscription), 'inbox') AS subscription, last_read_id, last_seen_id, archived_at, remind_at, starred_at, unread_at, stream_joined_at, last_mention_message_id, tp.mailboxes AS mailboxes FROM thread_recipients_users tr LEFT JOIN thread_participants tp ON tp.thread_id = tr.thread_id AND tp.user_id = tr.user_id AND tp.deleted_at IS NULL GROUP BY tr.thread_id, tr.user_id, tp.id [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0m [36mduration=[0m0.000167 [36mlocation=[0m["/app/pkg/repository/threadrecipient/repository.go:679","/app/pkg/repository/loader/loader.go:293","/go/pkg/mod/github.com/graph-gophers/dataloader@v5.0.0+incompatible/dataloader.go:432"] [36mrequest_id=[0mba52b59d Timestamp:Oct  6 20:26:04.222533 TRC Level: File:pkg/repository/threadrecipient/repository.go:679 Message:[sql]: SELECT min(tr.id) AS id, min(tr.created_at) AS created_at, max(tr.updated_at) AS updated_at, NULL AS deleted_at, tr.thread_id, tr.user_id, max(tr.recipient_user_id) AS recipient_user_id, array_agg(tr.recipient_group_id) AS recipient_group_ids, array_agg(tr.recipient_workspace_id) AS recipient_workspace_ids, max(tr.role) AS role, COALESCE(tp.subscription, max(tr.thread_subscription), 'inbox') AS subscription, last_read_id, last_seen_id, archived_at, remind_at, starred_at, unread_at, stream_joined_at, last_mention_message_id, tp.mailboxes AS mailboxes FROM thread_recipients_users tr LEFT JOIN thread_participants tp ON tp.thread_id = tr.thread_id AND tp.user_id = tr.user_id AND tp.deleted_at IS NULL GROUP BY tr.thread_id, tr.user_id, tp.id Fields:map[db.operation:select db.rows:0 db.table: duration:0.000167 location:["/app/pkg/repository/threadrecipient/repository.go:679","/app/pkg/repository/loader/loader.go:293","/go/pkg/mod/github.com/graph-gophers/dataloader@v5.0.0+incompatible/dataloader.go:432"] request_id:ba52b59d] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.216257[0m [34mTRC[0m [1mpkg/repository/threadrecipient/repository.go:322[0m[36m >[0m [sql]: SELECT * FROM (SELECT min(tr.id) AS id, min(tr.created_at) AS created_at, max(tr.updated_at) AS updated_at, NULL AS deleted_at, tr.thread_id, tr.user_id, max(tr.recipient_user_id) AS recipient_user_id, array_agg(tr.recipient_group_id) AS recipient_group_ids, array_agg(tr.recipient_workspace_id) AS recipient_workspace_ids, max(tr.role) AS role, COALESCE(tp.subscription, max(tr.thread_subscription), 'inbox') AS subscription, last_read_id, last_seen_id, archived_at, remind_at, starred_at, unread_at, stream_joined_at, last_mention_message_id, tp.mailboxes AS mailboxes FROM thread_recipients_users tr LEFT JOIN thread_participants tp ON tp.thread_id = tr.thread_id AND tp.user_id = tr.user_id AND tp.deleted_at IS NULL GROUP BY tr.thread_id, tr.user_id, tp.id) AS tra WHERE (user_id = $1 AND thread_id IN ($2)) AND "tra"."deleted_at" IS NULL [36mdb.operation=[0mselect [36mdb.rows=[0m1 [36mdb.table=[0mtra [36mduration=[0m2.563492 [36mlocation=[0m["/app/pkg/repository/threadrecipient/repository.go:322","/app/pkg/graphql/resolvers/threads/mutations.go:372","/usr/local/go/src/reflect/value.go:581"] [36mrequest_id=[0mba52b59d [36mspan_id=[0m682f73b2e4daabd6 [36mtrace_id=[0maf0c1cece061775fe1e9fbce7c15290e Timestamp:Oct  6 20:26:04.216257 TRC Level: File:pkg/repository/threadrecipient/repository.go:322 Message:[sql]: SELECT * FROM (SELECT min(tr.id) AS id, min(tr.created_at) AS created_at, max(tr.updated_at) AS updated_at, NULL AS deleted_at, tr.thread_id, tr.user_id, max(tr.recipient_user_id) AS recipient_user_id, array_agg(tr.recipient_group_id) AS recipient_group_ids, array_agg(tr.recipient_workspace_id) AS recipient_workspace_ids, max(tr.role) AS role, COALESCE(tp.subscription, max(tr.thread_subscription), 'inbox') AS subscription, last_read_id, last_seen_id, archived_at, remind_at, starred_at, unread_at, stream_joined_at, last_mention_message_id, tp.mailboxes AS mailboxes FROM thread_recipients_users tr LEFT JOIN thread_participants tp ON tp.thread_id = tr.thread_id AND tp.user_id = tr.user_id AND tp.deleted_at IS NULL GROUP BY tr.thread_id, tr.user_id, tp.id) AS tra WHERE (user_id = $1 AND thread_id IN ($2)) AND "tra"."deleted_at" IS NULL Fields:map[db.operation:select db.rows:1 db.table:tra duration:2.563492 location:["/app/pkg/repository/threadrecipient/repository.go:322","/app/pkg/graphql/resolvers/threads/mutations.go:372","/usr/local/go/src/reflect/value.go:581"] request_id:ba52b59d span_id:682f73b2e4daabd6 trace_id:af0c1cece061775fe1e9fbce7c15290e] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:26:04.223489[0m [34mTRC[0m [1mpkg/repository/threadrecipient/repository.go:670[0m[36m >[0m [sql]: SELECT min(tr.id) AS id, min(tr.created_at) AS created_at, max(tr.updated_at) AS updated_at, NULL AS deleted_at, tr.thread_id, tr.user_id, max(tr.recipient_user_id) AS recipient_user_id, array_agg(tr.recipient_group_id) AS recipient_group_ids, array_agg(tr.recipient_workspace_id) AS recipient_workspace_ids, max(tr.role) AS role, COALESCE(tp.subscription, max(tr.thread_subscription), 'inbox') AS subscription, last_read_id, last_seen_id, archived_at, remind_at, starred_at, unread_at, stream_joined_at, last_mention_message_id, tp.mailboxes AS mailboxes FROM thread_recipients_users tr LEFT JOIN thread_participants tp ON tp.thread_id = tr.thread_id AND tp.user_id = tr.user_id AND tp.deleted_at IS NULL GROUP BY tr.thread_id, tr.user_id, tp.id [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0m [36mduration=[0m0.000375 [36mlocation=[0m["/app/pkg/repository/threadrecipient/repository.go:670","/app/pkg/repository/loader/loader.go:293","/go/pkg/mod/github.com/graph-gophers/dataloader@v5.0.0+incompatible/dataloader.go:432"] [36mrequest_id=[0mba52b59d
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:26:04.223489[0m [34mTRC[0m [1mpkg/repository/threadrecipient/repository.go:670[0m[36m >[0m [sql]: SELECT min(tr.id) AS id, min(tr.created_at) AS created_at, max(tr.updated_at) AS updated_at, NULL AS deleted_at, tr.thread_id, tr.user_id, max(tr.recipient_user_id) AS recipient_user_id, array_agg(tr.recipient_group_id) AS recipient_group_ids, array_agg(tr.recipient_workspace_id) AS recipient_workspace_ids, max(tr.role) AS role, COALESCE(tp.subscription, max(tr.thread_subscription), 'inbox') AS subscription, last_read_id, last_seen_id, archived_at, remind_at, starred_at, unread_at, stream_joined_at, last_mention_message_id, tp.mailboxes AS mailboxes FROM thread_recipients_users tr LEFT JOIN thread_participants tp ON tp.thread_id = tr.thread_id AND tp.user_id = tr.user_id AND tp.deleted_at IS NULL GROUP BY tr.thread_id, tr.user_id, tp.id [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0m [36mduration=[0m0.000375 [36mlocation=[0m["/app/pkg/repository/threadrecipient/repository.go:670","/app/pkg/repository/loader/loader.go:293","/go/pkg/mod/github.com/graph-gophers/dataloader@v5.0.0+incompatible/dataloader.go:432"] [36mrequest_id=[0mba52b59d Timestamp:Oct  6 20:26:04.223489 TRC Level: File:pkg/repository/threadrecipient/repository.go:670 Message:[sql]: SELECT min(tr.id) AS id, min(tr.created_at) AS created_at, max(tr.updated_at) AS updated_at, NULL AS deleted_at, tr.thread_id, tr.user_id, max(tr.recipient_user_id) AS recipient_user_id, array_agg(tr.recipient_group_id) AS recipient_group_ids, array_agg(tr.recipient_workspace_id) AS recipient_workspace_ids, max(tr.role) AS role, COALESCE(tp.subscription, max(tr.thread_subscription), 'inbox') AS subscription, last_read_id, last_seen_id, archived_at, remind_at, starred_at, unread_at, stream_joined_at, last_mention_message_id, tp.mailboxes AS mailboxes FROM thread_recipients_users tr LEFT JOIN thread_participants tp ON tp.thread_id = tr.thread_id AND tp.user_id = tr.user_id AND tp.deleted_at IS NULL GROUP BY tr.thread_id, tr.user_id, tp.id Fields:map[db.operation:select db.rows:0 db.table: duration:0.000375 location:["/app/pkg/repository/threadrecipient/repository.go:670","/app/pkg/repository/loader/loader.go:293","/go/pkg/mod/github.com/graph-gophers/dataloader@v5.0.0+incompatible/dataloader.go:432"] request_id:ba52b59d] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.222533[0m [34mTRC[0m [1mpkg/repository/threadrecipient/repository.go:679[0m[36m >[0m [sql]: SELECT min(tr.id) AS id, min(tr.created_at) AS created_at, max(tr.updated_at) AS updated_at, NULL AS deleted_at, tr.thread_id, tr.user_id, max(tr.recipient_user_id) AS recipient_user_id, array_agg(tr.recipient_group_id) AS recipient_group_ids, array_agg(tr.recipient_workspace_id) AS recipient_workspace_ids, max(tr.role) AS role, COALESCE(tp.subscription, max(tr.thread_subscription), 'inbox') AS subscription, last_read_id, last_seen_id, archived_at, remind_at, starred_at, unread_at, stream_joined_at, last_mention_message_id, tp.mailboxes AS mailboxes FROM thread_recipients_users tr LEFT JOIN thread_participants tp ON tp.thread_id = tr.thread_id AND tp.user_id = tr.user_id AND tp.deleted_at IS NULL GROUP BY tr.thread_id, tr.user_id, tp.id [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0m [36mduration=[0m0.000167 [36mlocation=[0m["/app/pkg/repository/threadrecipient/repository.go:679","/app/pkg/repository/loader/loader.go:293","/go/pkg/mod/github.com/graph-gophers/dataloader@v5.0.0+incompatible/dataloader.go:432"] [36mrequest_id=[0mba52b59d Timestamp:Oct  6 20:26:04.222533 TRC Level: File:pkg/repository/threadrecipient/repository.go:679 Message:[sql]: SELECT min(tr.id) AS id, min(tr.created_at) AS created_at, max(tr.updated_at) AS updated_at, NULL AS deleted_at, tr.thread_id, tr.user_id, max(tr.recipient_user_id) AS recipient_user_id, array_agg(tr.recipient_group_id) AS recipient_group_ids, array_agg(tr.recipient_workspace_id) AS recipient_workspace_ids, max(tr.role) AS role, COALESCE(tp.subscription, max(tr.thread_subscription), 'inbox') AS subscription, last_read_id, last_seen_id, archived_at, remind_at, starred_at, unread_at, stream_joined_at, last_mention_message_id, tp.mailboxes AS mailboxes FROM thread_recipients_users tr LEFT JOIN thread_participants tp ON tp.thread_id = tr.thread_id AND tp.user_id = tr.user_id AND tp.deleted_at IS NULL GROUP BY tr.thread_id, tr.user_id, tp.id Fields:map[db.operation:select db.rows:0 db.table: duration:0.000167 location:["/app/pkg/repository/threadrecipient/repository.go:679","/app/pkg/repository/loader/loader.go:293","/go/pkg/mod/github.com/graph-gophers/dataloader@v5.0.0+incompatible/dataloader.go:432"] request_id:ba52b59d] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:26:04.225183[0m [34mTRC[0m [1mpkg/repository/thread/repository.go:175[0m[36m >[0m [sql]: SELECT * FROM "threads" WHERE id IN ($1) AND "threads"."deleted_at" IS NULL [36mdb.operation=[0mselect [36mdb.rows=[0m1 [36mdb.table=[0mthreads [36mduration=[0m2.099536 [36mlocation=[0m["/app/pkg/repository/thread/repository.go:175","/app/pkg/repository/thread/repository.go:775","/app/pkg/repository/loader/loader.go:240"] [36mrequest_id=[0mba52b59d [36mspan_id=[0m1f1d790f5f2b51aa [36mtrace_id=[0maf0c1cece061775fe1e9fbce7c15290e
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:26:04.225183[0m [34mTRC[0m [1mpkg/repository/thread/repository.go:175[0m[36m >[0m [sql]: SELECT * FROM "threads" WHERE id IN ($1) AND "threads"."deleted_at" IS NULL [36mdb.operation=[0mselect [36mdb.rows=[0m1 [36mdb.table=[0mthreads [36mduration=[0m2.099536 [36mlocation=[0m["/app/pkg/repository/thread/repository.go:175","/app/pkg/repository/thread/repository.go:775","/app/pkg/repository/loader/loader.go:240"] [36mrequest_id=[0mba52b59d [36mspan_id=[0m1f1d790f5f2b51aa [36mtrace_id=[0maf0c1cece061775fe1e9fbce7c15290e Timestamp:Oct  6 20:26:04.225183 TRC Level: File:pkg/repository/thread/repository.go:175 Message:[sql]: SELECT * FROM "threads" WHERE id IN ($1) AND "threads"."deleted_at" IS NULL Fields:map[db.operation:select db.rows:1 db.table:threads duration:2.099536 location:["/app/pkg/repository/thread/repository.go:175","/app/pkg/repository/thread/repository.go:775","/app/pkg/repository/loader/loader.go:240"] request_id:ba52b59d span_id:1f1d790f5f2b51aa trace_id:af0c1cece061775fe1e9fbce7c15290e] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.223489[0m [34mTRC[0m [1mpkg/repository/threadrecipient/repository.go:670[0m[36m >[0m [sql]: SELECT min(tr.id) AS id, min(tr.created_at) AS created_at, max(tr.updated_at) AS updated_at, NULL AS deleted_at, tr.thread_id, tr.user_id, max(tr.recipient_user_id) AS recipient_user_id, array_agg(tr.recipient_group_id) AS recipient_group_ids, array_agg(tr.recipient_workspace_id) AS recipient_workspace_ids, max(tr.role) AS role, COALESCE(tp.subscription, max(tr.thread_subscription), 'inbox') AS subscription, last_read_id, last_seen_id, archived_at, remind_at, starred_at, unread_at, stream_joined_at, last_mention_message_id, tp.mailboxes AS mailboxes FROM thread_recipients_users tr LEFT JOIN thread_participants tp ON tp.thread_id = tr.thread_id AND tp.user_id = tr.user_id AND tp.deleted_at IS NULL GROUP BY tr.thread_id, tr.user_id, tp.id [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0m [36mduration=[0m0.000375 [36mlocation=[0m["/app/pkg/repository/threadrecipient/repository.go:670","/app/pkg/repository/loader/loader.go:293","/go/pkg/mod/github.com/graph-gophers/dataloader@v5.0.0+incompatible/dataloader.go:432"] [36mrequest_id=[0mba52b59d Timestamp:Oct  6 20:26:04.223489 TRC Level: File:pkg/repository/threadrecipient/repository.go:670 Message:[sql]: SELECT min(tr.id) AS id, min(tr.created_at) AS created_at, max(tr.updated_at) AS updated_at, NULL AS deleted_at, tr.thread_id, tr.user_id, max(tr.recipient_user_id) AS recipient_user_id, array_agg(tr.recipient_group_id) AS recipient_group_ids, array_agg(tr.recipient_workspace_id) AS recipient_workspace_ids, max(tr.role) AS role, COALESCE(tp.subscription, max(tr.thread_subscription), 'inbox') AS subscription, last_read_id, last_seen_id, archived_at, remind_at, starred_at, unread_at, stream_joined_at, last_mention_message_id, tp.mailboxes AS mailboxes FROM thread_recipients_users tr LEFT JOIN thread_participants tp ON tp.thread_id = tr.thread_id AND tp.user_id = tr.user_id AND tp.deleted_at IS NULL GROUP BY tr.thread_id, tr.user_id, tp.id Fields:map[db.operation:select db.rows:0 db.table: duration:0.000375 location:["/app/pkg/repository/threadrecipient/repository.go:670","/app/pkg/repository/loader/loader.go:293","/go/pkg/mod/github.com/graph-gophers/dataloader@v5.0.0+incompatible/dataloader.go:432"] request_id:ba52b59d] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:26:04.226214[0m [34mTRC[0m [1mpkg/repository/glueai/repository.go:251[0m[36m >[0m [sql]: SELECT * FROM "glueai_sessions" WHERE (user_id = $1 AND context_thread_id IN ($2) AND deleted_at IS NULL) AND "glueai_sessions"."deleted_at" IS NULL [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mglueai_sessions [36mduration=[0m2.901366 [36mlocation=[0m["/app/pkg/repository/glueai/repository.go:251","/app/pkg/repository/loader/loader.go:240","/app/pkg/repository/loader/loader.go:210"] [36mrequest_id=[0mba52b59d [36mspan_id=[0m1c15460629cd39a4 [36mtrace_id=[0maf0c1cece061775fe1e9fbce7c15290e
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:26:04.226214[0m [34mTRC[0m [1mpkg/repository/glueai/repository.go:251[0m[36m >[0m [sql]: SELECT * FROM "glueai_sessions" WHERE (user_id = $1 AND context_thread_id IN ($2) AND deleted_at IS NULL) AND "glueai_sessions"."deleted_at" IS NULL [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mglueai_sessions [36mduration=[0m2.901366 [36mlocation=[0m["/app/pkg/repository/glueai/repository.go:251","/app/pkg/repository/loader/loader.go:240","/app/pkg/repository/loader/loader.go:210"] [36mrequest_id=[0mba52b59d [36mspan_id=[0m1c15460629cd39a4 [36mtrace_id=[0maf0c1cece061775fe1e9fbce7c15290e Timestamp:Oct  6 20:26:04.226214 TRC Level: File:pkg/repository/glueai/repository.go:251 Message:[sql]: SELECT * FROM "glueai_sessions" WHERE (user_id = $1 AND context_thread_id IN ($2) AND deleted_at IS NULL) AND "glueai_sessions"."deleted_at" IS NULL Fields:map[db.operation:select db.rows:0 db.table:glueai_sessions duration:2.901366 location:["/app/pkg/repository/glueai/repository.go:251","/app/pkg/repository/loader/loader.go:240","/app/pkg/repository/loader/loader.go:210"] request_id:ba52b59d span_id:1c15460629cd39a4 trace_id:af0c1cece061775fe1e9fbce7c15290e] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.225183[0m [34mTRC[0m [1mpkg/repository/thread/repository.go:175[0m[36m >[0m [sql]: SELECT * FROM "threads" WHERE id IN ($1) AND "threads"."deleted_at" IS NULL [36mdb.operation=[0mselect [36mdb.rows=[0m1 [36mdb.table=[0mthreads [36mduration=[0m2.099536 [36mlocation=[0m["/app/pkg/repository/thread/repository.go:175","/app/pkg/repository/thread/repository.go:775","/app/pkg/repository/loader/loader.go:240"] [36mrequest_id=[0mba52b59d [36mspan_id=[0m1f1d790f5f2b51aa [36mtrace_id=[0maf0c1cece061775fe1e9fbce7c15290e Timestamp:Oct  6 20:26:04.225183 TRC Level: File:pkg/repository/thread/repository.go:175 Message:[sql]: SELECT * FROM "threads" WHERE id IN ($1) AND "threads"."deleted_at" IS NULL Fields:map[db.operation:select db.rows:1 db.table:threads duration:2.099536 location:["/app/pkg/repository/thread/repository.go:175","/app/pkg/repository/thread/repository.go:775","/app/pkg/repository/loader/loader.go:240"] request_id:ba52b59d span_id:1f1d790f5f2b51aa trace_id:af0c1cece061775fe1e9fbce7c15290e] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:26:04.229115[0m [34mTRC[0m [1mpkg/repository/threadrecipient/repository.go:670[0m[36m >[0m [sql]: SELECT tra.thread_id AS id, count(distinct m.id) AS count FROM (SELECT min(tr.id) AS id, min(tr.created_at) AS created_at, max(tr.updated_at) AS updated_at, NULL AS deleted_at, tr.thread_id, tr.user_id, max(tr.recipient_user_id) AS recipient_user_id, array_agg(tr.recipient_group_id) AS recipient_group_ids, array_agg(tr.recipient_workspace_id) AS recipient_workspace_ids, max(tr.role) AS role, COALESCE(tp.subscription, max(tr.thread_subscription), 'inbox') AS subscription, last_read_id, last_seen_id, archived_at, remind_at, starred_at, unread_at, stream_joined_at, last_mention_message_id, tp.mailboxes AS mailboxes FROM thread_recipients_users tr LEFT JOIN thread_participants tp ON tp.thread_id = tr.thread_id AND tp.user_id = tr.user_id AND tp.deleted_at IS NULL GROUP BY tr.thread_id, tr.user_id, tp.id) AS tra JOIN threads t ON t.id = tra.thread_id JOIN messages m ON m.thread_id = tra.thread_id AND m.deleted_at IS NULL AND (last_read_id IS NULL OR last_read_id < m.id) WHERE (last_read_id IS NULL OR last_read_id < last_message_id) AND (tra.user_id = $1 AND tra.thread_id IN ($2)) AND m.silent = false AND (unread_at IS NOT NULL OR COALESCE(last_read_id, '') < COALESCE(last_message_id, '')) GROUP BY "tra"."thread_id" [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mtra [36mduration=[0m6.000732 [36mlocation=[0m["/app/pkg/repository/threadrecipient/repository.go:670","/app/pkg/repository/loader/loader.go:293","/go/pkg/mod/github.com/graph-gophers/dataloader@v5.0.0+incompatible/dataloader.go:432"] [36mrequest_id=[0mba52b59d [36mspan_id=[0md289cedabaf6db12 [36mtrace_id=[0maf0c1cece061775fe1e9fbce7c15290e
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:26:04.229115[0m [34mTRC[0m [1mpkg/repository/threadrecipient/repository.go:670[0m[36m >[0m [sql]: SELECT tra.thread_id AS id, count(distinct m.id) AS count FROM (SELECT min(tr.id) AS id, min(tr.created_at) AS created_at, max(tr.updated_at) AS updated_at, NULL AS deleted_at, tr.thread_id, tr.user_id, max(tr.recipient_user_id) AS recipient_user_id, array_agg(tr.recipient_group_id) AS recipient_group_ids, array_agg(tr.recipient_workspace_id) AS recipient_workspace_ids, max(tr.role) AS role, COALESCE(tp.subscription, max(tr.thread_subscription), 'inbox') AS subscription, last_read_id, last_seen_id, archived_at, remind_at, starred_at, unread_at, stream_joined_at, last_mention_message_id, tp.mailboxes AS mailboxes FROM thread_recipients_users tr LEFT JOIN thread_participants tp ON tp.thread_id = tr.thread_id AND tp.user_id = tr.user_id AND tp.deleted_at IS NULL GROUP BY tr.thread_id, tr.user_id, tp.id) AS tra JOIN threads t ON t.id = tra.thread_id JOIN messages m ON m.thread_id = tra.thread_id AND m.deleted_at IS NULL AND (last_read_id IS NULL OR last_read_id < m.id) WHERE (last_read_id IS NULL OR last_read_id < last_message_id) AND (tra.user_id = $1 AND tra.thread_id IN ($2)) AND m.silent = false AND (unread_at IS NOT NULL OR COALESCE(last_read_id, '') < COALESCE(last_message_id, '')) GROUP BY "tra"."thread_id" [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mtra [36mduration=[0m6.000732 [36mlocation=[0m["/app/pkg/repository/threadrecipient/repository.go:670","/app/pkg/repository/loader/loader.go:293","/go/pkg/mod/github.com/graph-gophers/dataloader@v5.0.0+incompatible/dataloader.go:432"] [36mrequest_id=[0mba52b59d [36mspan_id=[0md289cedabaf6db12 [36mtrace_id=[0maf0c1cece061775fe1e9fbce7c15290e Timestamp:Oct  6 20:26:04.229115 TRC Level: File:pkg/repository/threadrecipient/repository.go:670 Message:[sql]: SELECT tra.thread_id AS id, count(distinct m.id) AS count FROM (SELECT min(tr.id) AS id, min(tr.created_at) AS created_at, max(tr.updated_at) AS updated_at, NULL AS deleted_at, tr.thread_id, tr.user_id, max(tr.recipient_user_id) AS recipient_user_id, array_agg(tr.recipient_group_id) AS recipient_group_ids, array_agg(tr.recipient_workspace_id) AS recipient_workspace_ids, max(tr.role) AS role, COALESCE(tp.subscription, max(tr.thread_subscription), 'inbox') AS subscription, last_read_id, last_seen_id, archived_at, remind_at, starred_at, unread_at, stream_joined_at, last_mention_message_id, tp.mailboxes AS mailboxes FROM thread_recipients_users tr LEFT JOIN thread_participants tp ON tp.thread_id = tr.thread_id AND tp.user_id = tr.user_id AND tp.deleted_at IS NULL GROUP BY tr.thread_id, tr.user_id, tp.id) AS tra JOIN threads t ON t.id = tra.thread_id JOIN messages m ON m.thread_id = tra.thread_id AND m.deleted_at IS NULL AND (last_read_id IS NULL OR last_read_id < m.id) WHERE (last_read_id IS NULL OR last_read_id < last_message_id) AND (tra.user_id = $1 AND tra.thread_id IN ($2)) AND m.silent = false AND (unread_at IS NOT NULL OR COALESCE(last_read_id, '') < COALESCE(last_message_id, '')) GROUP BY "tra"."thread_id" Fields:map[db.operation:select db.rows:0 db.table:tra duration:6.000732 location:["/app/pkg/repository/threadrecipient/repository.go:670","/app/pkg/repository/loader/loader.go:293","/go/pkg/mod/github.com/graph-gophers/dataloader@v5.0.0+incompatible/dataloader.go:432"] request_id:ba52b59d span_id:d289cedabaf6db12 trace_id:af0c1cece061775fe1e9fbce7c15290e] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.226214[0m [34mTRC[0m [1mpkg/repository/glueai/repository.go:251[0m[36m >[0m [sql]: SELECT * FROM "glueai_sessions" WHERE (user_id = $1 AND context_thread_id IN ($2) AND deleted_at IS NULL) AND "glueai_sessions"."deleted_at" IS NULL [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mglueai_sessions [36mduration=[0m2.901366 [36mlocation=[0m["/app/pkg/repository/glueai/repository.go:251","/app/pkg/repository/loader/loader.go:240","/app/pkg/repository/loader/loader.go:210"] [36mrequest_id=[0mba52b59d [36mspan_id=[0m1c15460629cd39a4 [36mtrace_id=[0maf0c1cece061775fe1e9fbce7c15290e Timestamp:Oct  6 20:26:04.226214 TRC Level: File:pkg/repository/glueai/repository.go:251 Message:[sql]: SELECT * FROM "glueai_sessions" WHERE (user_id = $1 AND context_thread_id IN ($2) AND deleted_at IS NULL) AND "glueai_sessions"."deleted_at" IS NULL Fields:map[db.operation:select db.rows:0 db.table:glueai_sessions duration:2.901366 location:["/app/pkg/repository/glueai/repository.go:251","/app/pkg/repository/loader/loader.go:240","/app/pkg/repository/loader/loader.go:210"] request_id:ba52b59d span_id:1c15460629cd39a4 trace_id:af0c1cece061775fe1e9fbce7c15290e] IsJSON:false JSONFields:map[]}
container:  187a2420ba58 lines:  5
container: 187a2420ba58 line: [90mOct  6 20:26:04.229431[0m [34mTRC[0m [1mpkg/repository/threadrecipient/repository.go:679[0m[36m >[0m [sql]: SELECT tra.thread_id AS id, count(distinct l.id) AS count FROM (SELECT min(tr.id) AS id, min(tr.created_at) AS created_at, max(tr.updated_at) AS updated_at, NULL AS deleted_at, tr.thread_id, tr.user_id, max(tr.recipient_user_id) AS recipient_user_id, array_agg(tr.recipient_group_id) AS recipient_group_ids, array_agg(tr.recipient_workspace_id) AS recipient_workspace_ids, max(tr.role) AS role, COALESCE(tp.subscription, max(tr.thread_subscription), 'inbox') AS subscription, last_read_id, last_seen_id, archived_at, remind_at, starred_at, unread_at, stream_joined_at, last_mention_message_id, tp.mailboxes AS mailboxes FROM thread_recipients_users tr LEFT JOIN thread_participants tp ON tp.thread_id = tr.thread_id AND tp.user_id = tr.user_id AND tp.deleted_at IS NULL GROUP BY tr.thread_id, tr.user_id, tp.id) AS tra JOIN threads t ON t.id = tra.thread_id JOIN links l ON l.thread_id = tra.thread_id AND (l.linked_user_id = $1 OR l.linked_group_id IS NOT NULL OR l.linked_workspace_id IS NOT NULL) AND l.message_id IS NOT NULL AND l.deleted_at IS NULL AND (last_read_id IS NULL OR last_read_id < l.message_id) WHERE (tra.user_id = $2 AND tra.thread_id IN ($3)) AND COALESCE(last_read_id, '') < COALESCE(last_mention_message_id, '') GROUP BY "tra"."thread_id" [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mtra [36mduration=[0m7.128061 [36mlocation=[0m["/app/pkg/repository/threadrecipient/repository.go:679","/app/pkg/repository/loader/loader.go:293","/go/pkg/mod/github.com/graph-gophers/dataloader@v5.0.0+incompatible/dataloader.go:432"] [36mrequest_id=[0mba52b59d [36mspan_id=[0m5c2de23f5c6f4c3d [36mtrace_id=[0maf0c1cece061775fe1e9fbce7c15290e
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:26:04.229431[0m [34mTRC[0m [1mpkg/repository/threadrecipient/repository.go:679[0m[36m >[0m [sql]: SELECT tra.thread_id AS id, count(distinct l.id) AS count FROM (SELECT min(tr.id) AS id, min(tr.created_at) AS created_at, max(tr.updated_at) AS updated_at, NULL AS deleted_at, tr.thread_id, tr.user_id, max(tr.recipient_user_id) AS recipient_user_id, array_agg(tr.recipient_group_id) AS recipient_group_ids, array_agg(tr.recipient_workspace_id) AS recipient_workspace_ids, max(tr.role) AS role, COALESCE(tp.subscription, max(tr.thread_subscription), 'inbox') AS subscription, last_read_id, last_seen_id, archived_at, remind_at, starred_at, unread_at, stream_joined_at, last_mention_message_id, tp.mailboxes AS mailboxes FROM thread_recipients_users tr LEFT JOIN thread_participants tp ON tp.thread_id = tr.thread_id AND tp.user_id = tr.user_id AND tp.deleted_at IS NULL GROUP BY tr.thread_id, tr.user_id, tp.id) AS tra JOIN threads t ON t.id = tra.thread_id JOIN links l ON l.thread_id = tra.thread_id AND (l.linked_user_id = $1 OR l.linked_group_id IS NOT NULL OR l.linked_workspace_id IS NOT NULL) AND l.message_id IS NOT NULL AND l.deleted_at IS NULL AND (last_read_id IS NULL OR last_read_id < l.message_id) WHERE (tra.user_id = $2 AND tra.thread_id IN ($3)) AND COALESCE(last_read_id, '') < COALESCE(last_mention_message_id, '') GROUP BY "tra"."thread_id" [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mtra [36mduration=[0m7.128061 [36mlocation=[0m["/app/pkg/repository/threadrecipient/repository.go:679","/app/pkg/repository/loader/loader.go:293","/go/pkg/mod/github.com/graph-gophers/dataloader@v5.0.0+incompatible/dataloader.go:432"] [36mrequest_id=[0mba52b59d [36mspan_id=[0m5c2de23f5c6f4c3d [36mtrace_id=[0maf0c1cece061775fe1e9fbce7c15290e Timestamp:Oct  6 20:26:04.229431 TRC Level: File:pkg/repository/threadrecipient/repository.go:679 Message:[sql]: SELECT tra.thread_id AS id, count(distinct l.id) AS count FROM (SELECT min(tr.id) AS id, min(tr.created_at) AS created_at, max(tr.updated_at) AS updated_at, NULL AS deleted_at, tr.thread_id, tr.user_id, max(tr.recipient_user_id) AS recipient_user_id, array_agg(tr.recipient_group_id) AS recipient_group_ids, array_agg(tr.recipient_workspace_id) AS recipient_workspace_ids, max(tr.role) AS role, COALESCE(tp.subscription, max(tr.thread_subscription), 'inbox') AS subscription, last_read_id, last_seen_id, archived_at, remind_at, starred_at, unread_at, stream_joined_at, last_mention_message_id, tp.mailboxes AS mailboxes FROM thread_recipients_users tr LEFT JOIN thread_participants tp ON tp.thread_id = tr.thread_id AND tp.user_id = tr.user_id AND tp.deleted_at IS NULL GROUP BY tr.thread_id, tr.user_id, tp.id) AS tra JOIN threads t ON t.id = tra.thread_id JOIN links l ON l.thread_id = tra.thread_id AND (l.linked_user_id = $1 OR l.linked_group_id IS NOT NULL OR l.linked_workspace_id IS NOT NULL) AND l.message_id IS NOT NULL AND l.deleted_at IS NULL AND (last_read_id IS NULL OR last_read_id < l.message_id) WHERE (tra.user_id = $2 AND tra.thread_id IN ($3)) AND COALESCE(last_read_id, '') < COALESCE(last_mention_message_id, '') GROUP BY "tra"."thread_id" Fields:map[db.operation:select db.rows:0 db.table:tra duration:7.128061 location:["/app/pkg/repository/threadrecipient/repository.go:679","/app/pkg/repository/loader/loader.go:293","/go/pkg/mod/github.com/graph-gophers/dataloader@v5.0.0+incompatible/dataloader.go:432"] request_id:ba52b59d span_id:5c2de23f5c6f4c3d trace_id:af0c1cece061775fe1e9fbce7c15290e] IsJSON:false JSONFields:map[]} previousLogEntry: <nil>
container: 187a2420ba58 line: [90mOct  6 20:26:04.231828[0m [34mTRC[0m [1mpkg/repository/workspace/repository.go:751[0m[36m >[0m [sql]: SELECT * FROM "workspace_members" WHERE (user_id = $1 AND workspace_id IN ($2)) AND "workspace_members"."deleted_at" IS NULL [36mdb.operation=[0mselect [36mdb.rows=[0m1 [36mdb.table=[0mworkspace_members [36mduration=[0m0.631457 [36mlocation=[0m["/app/pkg/repository/workspace/repository.go:751","/app/pkg/repository/loader/loader.go:240","/app/pkg/repository/loader/loader.go:210"] [36mrequest_id=[0mba52b59d [36mspan_id=[0me770ee4d5a382f3b [36mtrace_id=[0maf0c1cece061775fe1e9fbce7c15290e
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:26:04.231828[0m [34mTRC[0m [1mpkg/repository/workspace/repository.go:751[0m[36m >[0m [sql]: SELECT * FROM "workspace_members" WHERE (user_id = $1 AND workspace_id IN ($2)) AND "workspace_members"."deleted_at" IS NULL [36mdb.operation=[0mselect [36mdb.rows=[0m1 [36mdb.table=[0mworkspace_members [36mduration=[0m0.631457 [36mlocation=[0m["/app/pkg/repository/workspace/repository.go:751","/app/pkg/repository/loader/loader.go:240","/app/pkg/repository/loader/loader.go:210"] [36mrequest_id=[0mba52b59d [36mspan_id=[0me770ee4d5a382f3b [36mtrace_id=[0maf0c1cece061775fe1e9fbce7c15290e Timestamp:Oct  6 20:26:04.231828 TRC Level: File:pkg/repository/workspace/repository.go:751 Message:[sql]: SELECT * FROM "workspace_members" WHERE (user_id = $1 AND workspace_id IN ($2)) AND "workspace_members"."deleted_at" IS NULL Fields:map[db.operation:select db.rows:1 db.table:workspace_members duration:0.631457 location:["/app/pkg/repository/workspace/repository.go:751","/app/pkg/repository/loader/loader.go:240","/app/pkg/repository/loader/loader.go:210"] request_id:ba52b59d span_id:e770ee4d5a382f3b trace_id:af0c1cece061775fe1e9fbce7c15290e] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.229431[0m [34mTRC[0m [1mpkg/repository/threadrecipient/repository.go:679[0m[36m >[0m [sql]: SELECT tra.thread_id AS id, count(distinct l.id) AS count FROM (SELECT min(tr.id) AS id, min(tr.created_at) AS created_at, max(tr.updated_at) AS updated_at, NULL AS deleted_at, tr.thread_id, tr.user_id, max(tr.recipient_user_id) AS recipient_user_id, array_agg(tr.recipient_group_id) AS recipient_group_ids, array_agg(tr.recipient_workspace_id) AS recipient_workspace_ids, max(tr.role) AS role, COALESCE(tp.subscription, max(tr.thread_subscription), 'inbox') AS subscription, last_read_id, last_seen_id, archived_at, remind_at, starred_at, unread_at, stream_joined_at, last_mention_message_id, tp.mailboxes AS mailboxes FROM thread_recipients_users tr LEFT JOIN thread_participants tp ON tp.thread_id = tr.thread_id AND tp.user_id = tr.user_id AND tp.deleted_at IS NULL GROUP BY tr.thread_id, tr.user_id, tp.id) AS tra JOIN threads t ON t.id = tra.thread_id JOIN links l ON l.thread_id = tra.thread_id AND (l.linked_user_id = $1 OR l.linked_group_id IS NOT NULL OR l.linked_workspace_id IS NOT NULL) AND l.message_id IS NOT NULL AND l.deleted_at IS NULL AND (last_read_id IS NULL OR last_read_id < l.message_id) WHERE (tra.user_id = $2 AND tra.thread_id IN ($3)) AND COALESCE(last_read_id, '') < COALESCE(last_mention_message_id, '') GROUP BY "tra"."thread_id" [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mtra [36mduration=[0m7.128061 [36mlocation=[0m["/app/pkg/repository/threadrecipient/repository.go:679","/app/pkg/repository/loader/loader.go:293","/go/pkg/mod/github.com/graph-gophers/dataloader@v5.0.0+incompatible/dataloader.go:432"] [36mrequest_id=[0mba52b59d [36mspan_id=[0m5c2de23f5c6f4c3d [36mtrace_id=[0maf0c1cece061775fe1e9fbce7c15290e Timestamp:Oct  6 20:26:04.229431 TRC Level: File:pkg/repository/threadrecipient/repository.go:679 Message:[sql]: SELECT tra.thread_id AS id, count(distinct l.id) AS count FROM (SELECT min(tr.id) AS id, min(tr.created_at) AS created_at, max(tr.updated_at) AS updated_at, NULL AS deleted_at, tr.thread_id, tr.user_id, max(tr.recipient_user_id) AS recipient_user_id, array_agg(tr.recipient_group_id) AS recipient_group_ids, array_agg(tr.recipient_workspace_id) AS recipient_workspace_ids, max(tr.role) AS role, COALESCE(tp.subscription, max(tr.thread_subscription), 'inbox') AS subscription, last_read_id, last_seen_id, archived_at, remind_at, starred_at, unread_at, stream_joined_at, last_mention_message_id, tp.mailboxes AS mailboxes FROM thread_recipients_users tr LEFT JOIN thread_participants tp ON tp.thread_id = tr.thread_id AND tp.user_id = tr.user_id AND tp.deleted_at IS NULL GROUP BY tr.thread_id, tr.user_id, tp.id) AS tra JOIN threads t ON t.id = tra.thread_id JOIN links l ON l.thread_id = tra.thread_id AND (l.linked_user_id = $1 OR l.linked_group_id IS NOT NULL OR l.linked_workspace_id IS NOT NULL) AND l.message_id IS NOT NULL AND l.deleted_at IS NULL AND (last_read_id IS NULL OR last_read_id < l.message_id) WHERE (tra.user_id = $2 AND tra.thread_id IN ($3)) AND COALESCE(last_read_id, '') < COALESCE(last_mention_message_id, '') GROUP BY "tra"."thread_id" Fields:map[db.operation:select db.rows:0 db.table:tra duration:7.128061 location:["/app/pkg/repository/threadrecipient/repository.go:679","/app/pkg/repository/loader/loader.go:293","/go/pkg/mod/github.com/graph-gophers/dataloader@v5.0.0+incompatible/dataloader.go:432"] request_id:ba52b59d span_id:5c2de23f5c6f4c3d trace_id:af0c1cece061775fe1e9fbce7c15290e] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:26:04.231997[0m DBG [1mpkg/handlers/graphql.go:264[0m[36m >[0m Finished processing GraphQL [36mgql.operationName=[0mMarkThreadEdges [36mrequest_id=[0mba52b59d
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:26:04.231997[0m DBG [1mpkg/handlers/graphql.go:264[0m[36m >[0m Finished processing GraphQL [36mgql.operationName=[0mMarkThreadEdges [36mrequest_id=[0mba52b59d Timestamp:Oct  6 20:26:04.231997 DBG Level: File:pkg/handlers/graphql.go:264 Message:Finished processing GraphQL Fields:map[gql.operationName:MarkThreadEdges request_id:ba52b59d] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.231828[0m [34mTRC[0m [1mpkg/repository/workspace/repository.go:751[0m[36m >[0m [sql]: SELECT * FROM "workspace_members" WHERE (user_id = $1 AND workspace_id IN ($2)) AND "workspace_members"."deleted_at" IS NULL [36mdb.operation=[0mselect [36mdb.rows=[0m1 [36mdb.table=[0mworkspace_members [36mduration=[0m0.631457 [36mlocation=[0m["/app/pkg/repository/workspace/repository.go:751","/app/pkg/repository/loader/loader.go:240","/app/pkg/repository/loader/loader.go:210"] [36mrequest_id=[0mba52b59d [36mspan_id=[0me770ee4d5a382f3b [36mtrace_id=[0maf0c1cece061775fe1e9fbce7c15290e Timestamp:Oct  6 20:26:04.231828 TRC Level: File:pkg/repository/workspace/repository.go:751 Message:[sql]: SELECT * FROM "workspace_members" WHERE (user_id = $1 AND workspace_id IN ($2)) AND "workspace_members"."deleted_at" IS NULL Fields:map[db.operation:select db.rows:1 db.table:workspace_members duration:0.631457 location:["/app/pkg/repository/workspace/repository.go:751","/app/pkg/repository/loader/loader.go:240","/app/pkg/repository/loader/loader.go:210"] request_id:ba52b59d span_id:e770ee4d5a382f3b trace_id:af0c1cece061775fe1e9fbce7c15290e] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:26:04.233103[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:26:04Z POST /graphql - 200 (328 bytes)[0m [36mip=[0m100.103.144.21 [36mlatency=[0m33.359607 [36mmethod=[0mPOST [36mpath=[0m/graphql [36mrequest_id=[0mba52b59d [36mstatus=[0m200 [36muser-agent=[0m"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Safari/605.1.15"
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:26:04.233103[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:26:04Z POST /graphql - 200 (328 bytes)[0m [36mip=[0m100.103.144.21 [36mlatency=[0m33.359607 [36mmethod=[0mPOST [36mpath=[0m/graphql [36mrequest_id=[0mba52b59d [36mstatus=[0m200 [36muser-agent=[0m"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Safari/605.1.15" Timestamp:Oct  6 20:26:04.233103 INF Level: File:pkg/observability/logging/logging.go:110 Message:2025-10-06T20:26:04Z POST /graphql - 200 (328 bytes) Fields:map[agent:Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Safari/605.1.15 ip:100.103.144.21 latency:33.359607 method:POST path:/graphql request_id:ba52b59d status:200] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.231997[0m DBG [1mpkg/handlers/graphql.go:264[0m[36m >[0m Finished processing GraphQL [36mgql.operationName=[0mMarkThreadEdges [36mrequest_id=[0mba52b59d Timestamp:Oct  6 20:26:04.231997 DBG Level: File:pkg/handlers/graphql.go:264 Message:Finished processing GraphQL Fields:map[gql.operationName:MarkThreadEdges request_id:ba52b59d] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: 
container: 187a2420ba58 entry: &{Raw: Timestamp: Level: File: Message: Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.233103[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:26:04Z POST /graphql - 200 (328 bytes)[0m [36mip=[0m100.103.144.21 [36mlatency=[0m33.359607 [36mmethod=[0mPOST [36mpath=[0m/graphql [36mrequest_id=[0mba52b59d [36mstatus=[0m200 [36muser-agent=[0m"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Safari/605.1.15" Timestamp:Oct  6 20:26:04.233103 INF Level: File:pkg/observability/logging/logging.go:110 Message:2025-10-06T20:26:04Z POST /graphql - 200 (328 bytes) Fields:map[agent:Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Safari/605.1.15 ip:100.103.144.21 latency:33.359607 method:POST path:/graphql request_id:ba52b59d status:200] IsJSON:false JSONFields:map[]}
container:  187a2420ba58 lines:  35
container: 187a2420ba58 line: [90mOct  6 20:26:04.385252[0m [34mTRC[0m [1mpkg/repository/user/repository.go:108[0m[36m >[0m [sql]: SELECT * FROM "users" WHERE id = $1 AND "users"."deleted_at" IS NULL LIMIT 1 [36mdb.operation=[0mselect [36mdb.rows=[0m1 [36mdb.table=[0musers [36mduration=[0m1.16208 [36mlocation=[0m["/app/pkg/repository/user/repository.go:108","/app/pkg/operations/user/userutils/userutils.go:28","/app/pkg/handlers/stream.go:218"] [36mrequest_id=[0m88c61ef9 [36mspan_id=[0m1525905eb5dd5a56 [36mtrace_id=[0m7a95aea668fba2d4cbb367e5227a1ce9
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:26:04.385252[0m [34mTRC[0m [1mpkg/repository/user/repository.go:108[0m[36m >[0m [sql]: SELECT * FROM "users" WHERE id = $1 AND "users"."deleted_at" IS NULL LIMIT 1 [36mdb.operation=[0mselect [36mdb.rows=[0m1 [36mdb.table=[0musers [36mduration=[0m1.16208 [36mlocation=[0m["/app/pkg/repository/user/repository.go:108","/app/pkg/operations/user/userutils/userutils.go:28","/app/pkg/handlers/stream.go:218"] [36mrequest_id=[0m88c61ef9 [36mspan_id=[0m1525905eb5dd5a56 [36mtrace_id=[0m7a95aea668fba2d4cbb367e5227a1ce9 Timestamp:Oct  6 20:26:04.385252 TRC Level: File:pkg/repository/user/repository.go:108 Message:[sql]: SELECT * FROM "users" WHERE id = $1 AND "users"."deleted_at" IS NULL LIMIT 1 Fields:map[db.operation:select db.rows:1 db.table:users duration:1.16208 location:["/app/pkg/repository/user/repository.go:108","/app/pkg/operations/user/userutils/userutils.go:28","/app/pkg/handlers/stream.go:218"] request_id:88c61ef9 span_id:1525905eb5dd5a56 trace_id:7a95aea668fba2d4cbb367e5227a1ce9] IsJSON:false JSONFields:map[]} previousLogEntry: <nil>
container: 187a2420ba58 line: [90mOct  6 20:26:04.386634[0m [34mTRC[0m [1mpkg/repository/threadparticipant/repository.go:120[0m[36m >[0m [sql]: SELECT * FROM "thread_participants" WHERE (user_id = $1 AND thread_id IN ($2)) AND "thread_participants"."deleted_at" IS NULL [36mdb.operation=[0mselect [36mdb.rows=[0m1 [36mdb.table=[0mthread_participants [36mduration=[0m1.06708 [36mlocation=[0m["/app/pkg/repository/threadparticipant/repository.go:120","/app/pkg/operations/thread/threadparticipant.go:271","/app/pkg/operations/thread/threadparticipant.go:37"] [36mrequest_id=[0m88c61ef9 [36mspan_id=[0m747984e093bd7a12 [36mtrace_id=[0m7a95aea668fba2d4cbb367e5227a1ce9
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:26:04.386634[0m [34mTRC[0m [1mpkg/repository/threadparticipant/repository.go:120[0m[36m >[0m [sql]: SELECT * FROM "thread_participants" WHERE (user_id = $1 AND thread_id IN ($2)) AND "thread_participants"."deleted_at" IS NULL [36mdb.operation=[0mselect [36mdb.rows=[0m1 [36mdb.table=[0mthread_participants [36mduration=[0m1.06708 [36mlocation=[0m["/app/pkg/repository/threadparticipant/repository.go:120","/app/pkg/operations/thread/threadparticipant.go:271","/app/pkg/operations/thread/threadparticipant.go:37"] [36mrequest_id=[0m88c61ef9 [36mspan_id=[0m747984e093bd7a12 [36mtrace_id=[0m7a95aea668fba2d4cbb367e5227a1ce9 Timestamp:Oct  6 20:26:04.386634 TRC Level: File:pkg/repository/threadparticipant/repository.go:120 Message:[sql]: SELECT * FROM "thread_participants" WHERE (user_id = $1 AND thread_id IN ($2)) AND "thread_participants"."deleted_at" IS NULL Fields:map[db.operation:select db.rows:1 db.table:thread_participants duration:1.06708 location:["/app/pkg/repository/threadparticipant/repository.go:120","/app/pkg/operations/thread/threadparticipant.go:271","/app/pkg/operations/thread/threadparticipant.go:37"] request_id:88c61ef9 span_id:747984e093bd7a12 trace_id:7a95aea668fba2d4cbb367e5227a1ce9] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.385252[0m [34mTRC[0m [1mpkg/repository/user/repository.go:108[0m[36m >[0m [sql]: SELECT * FROM "users" WHERE id = $1 AND "users"."deleted_at" IS NULL LIMIT 1 [36mdb.operation=[0mselect [36mdb.rows=[0m1 [36mdb.table=[0musers [36mduration=[0m1.16208 [36mlocation=[0m["/app/pkg/repository/user/repository.go:108","/app/pkg/operations/user/userutils/userutils.go:28","/app/pkg/handlers/stream.go:218"] [36mrequest_id=[0m88c61ef9 [36mspan_id=[0m1525905eb5dd5a56 [36mtrace_id=[0m7a95aea668fba2d4cbb367e5227a1ce9 Timestamp:Oct  6 20:26:04.385252 TRC Level: File:pkg/repository/user/repository.go:108 Message:[sql]: SELECT * FROM "users" WHERE id = $1 AND "users"."deleted_at" IS NULL LIMIT 1 Fields:map[db.operation:select db.rows:1 db.table:users duration:1.16208 location:["/app/pkg/repository/user/repository.go:108","/app/pkg/operations/user/userutils/userutils.go:28","/app/pkg/handlers/stream.go:218"] request_id:88c61ef9 span_id:1525905eb5dd5a56 trace_id:7a95aea668fba2d4cbb367e5227a1ce9] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:26:04.388200[0m [34mTRC[0m [1mpkg/repository/threadparticipant/repository.go:425[0m[36m >[0m [sql]: 
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:26:04.388200[0m [34mTRC[0m [1mpkg/repository/threadparticipant/repository.go:425[0m[36m >[0m [sql]:  Timestamp:Oct  6 20:26:04.388200 TRC Level: File:pkg/repository/threadparticipant/repository.go:425 Message:[sql]: Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.386634[0m [34mTRC[0m [1mpkg/repository/threadparticipant/repository.go:120[0m[36m >[0m [sql]: SELECT * FROM "thread_participants" WHERE (user_id = $1 AND thread_id IN ($2)) AND "thread_participants"."deleted_at" IS NULL [36mdb.operation=[0mselect [36mdb.rows=[0m1 [36mdb.table=[0mthread_participants [36mduration=[0m1.06708 [36mlocation=[0m["/app/pkg/repository/threadparticipant/repository.go:120","/app/pkg/operations/thread/threadparticipant.go:271","/app/pkg/operations/thread/threadparticipant.go:37"] [36mrequest_id=[0m88c61ef9 [36mspan_id=[0m747984e093bd7a12 [36mtrace_id=[0m7a95aea668fba2d4cbb367e5227a1ce9 Timestamp:Oct  6 20:26:04.386634 TRC Level: File:pkg/repository/threadparticipant/repository.go:120 Message:[sql]: SELECT * FROM "thread_participants" WHERE (user_id = $1 AND thread_id IN ($2)) AND "thread_participants"."deleted_at" IS NULL Fields:map[db.operation:select db.rows:1 db.table:thread_participants duration:1.06708 location:["/app/pkg/repository/threadparticipant/repository.go:120","/app/pkg/operations/thread/threadparticipant.go:271","/app/pkg/operations/thread/threadparticipant.go:37"] request_id:88c61ef9 span_id:747984e093bd7a12 trace_id:7a95aea668fba2d4cbb367e5227a1ce9] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: 			UPDATE thread_participants tp
container: 187a2420ba58 entry: &{Raw:			UPDATE thread_participants tp Timestamp: Level: File: Message:			UPDATE thread_participants tp Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.388200[0m [34mTRC[0m [1mpkg/repository/threadparticipant/repository.go:425[0m[36m >[0m [sql]:  Timestamp:Oct  6 20:26:04.388200 TRC Level: File:pkg/repository/threadparticipant/repository.go:425 Message:[sql]: Fields:map[] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: 			SET
container: 187a2420ba58 entry: &{Raw:			SET Timestamp: Level: File: Message:			SET Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.388200[0m [34mTRC[0m [1mpkg/repository/threadparticipant/repository.go:425[0m[36m >[0m [sql]: 
container: 187a2420ba58 line: 				last_read_id = last_message_id,
container: 187a2420ba58 entry: &{Raw:				last_read_id = last_message_id, Timestamp: Level: File: Message:				last_read_id = last_message_id, Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.388200[0m [34mTRC[0m [1mpkg/repository/threadparticipant/repository.go:425[0m[36m >[0m [sql]: 
container: 187a2420ba58 line: 				last_seen_id = last_message_id,
container: 187a2420ba58 entry: &{Raw:				last_seen_id = last_message_id, Timestamp: Level: File: Message:				last_seen_id = last_message_id, Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.388200[0m [34mTRC[0m [1mpkg/repository/threadparticipant/repository.go:425[0m[36m >[0m [sql]: 
container: 187a2420ba58 line: 				pending_notify_at = NULL,
container: 187a2420ba58 entry: &{Raw:				pending_notify_at = NULL, Timestamp: Level: File: Message:				pending_notify_at = NULL, Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.388200[0m [34mTRC[0m [1mpkg/repository/threadparticipant/repository.go:425[0m[36m >[0m [sql]: 
container: 187a2420ba58 line: 				unread_at = NULL,
container: 187a2420ba58 entry: &{Raw:				unread_at = NULL, Timestamp: Level: File: Message:				unread_at = NULL, Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.388200[0m [34mTRC[0m [1mpkg/repository/threadparticipant/repository.go:425[0m[36m >[0m [sql]: 
container: 187a2420ba58 line: 				updated_at = $1,
container: 187a2420ba58 entry: &{Raw:				updated_at = $1, Timestamp: Level: File: Message:				updated_at = $1, Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.388200[0m [34mTRC[0m [1mpkg/repository/threadparticipant/repository.go:425[0m[36m >[0m [sql]: 
container: 187a2420ba58 line: 				remind_at = (
container: 187a2420ba58 entry: &{Raw:				remind_at = ( Timestamp: Level: File: Message:				remind_at = ( Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.388200[0m [34mTRC[0m [1mpkg/repository/threadparticipant/repository.go:425[0m[36m >[0m [sql]: 
container: 187a2420ba58 line: 					CASE WHEN tp.remind_at < $2 THEN NULL ELSE tp.remind_at END
container: 187a2420ba58 entry: &{Raw:					CASE WHEN tp.remind_at < $2 THEN NULL ELSE tp.remind_at END Timestamp: Level: File: Message:					CASE WHEN tp.remind_at < $2 THEN NULL ELSE tp.remind_at END Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.388200[0m [34mTRC[0m [1mpkg/repository/threadparticipant/repository.go:425[0m[36m >[0m [sql]: 
container: 187a2420ba58 line: 				),
container: 187a2420ba58 entry: &{Raw:				), Timestamp: Level: File: Message:				), Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.388200[0m [34mTRC[0m [1mpkg/repository/threadparticipant/repository.go:425[0m[36m >[0m [sql]: 
container: 187a2420ba58 line: 				remind_at_entry_id=(
container: 187a2420ba58 entry: &{Raw:				remind_at_entry_id=( Timestamp: Level: File: Message: Fields:map[remind_at_entry_id:(] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.388200[0m [34mTRC[0m [1mpkg/repository/threadparticipant/repository.go:425[0m[36m >[0m [sql]: 
container: 187a2420ba58 line: 					CASE WHEN tp.remind_at < $3 THEN NULL ELSE tp.remind_at_entry_id END
container: 187a2420ba58 entry: &{Raw:					CASE WHEN tp.remind_at < $3 THEN NULL ELSE tp.remind_at_entry_id END Timestamp: Level: File: Message:					CASE WHEN tp.remind_at < $3 THEN NULL ELSE tp.remind_at_entry_id END Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.388200[0m [34mTRC[0m [1mpkg/repository/threadparticipant/repository.go:425[0m[36m >[0m [sql]: 
container: 187a2420ba58 line: 				)
container: 187a2420ba58 entry: &{Raw:				) Timestamp: Level: File: Message:				) Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.388200[0m [34mTRC[0m [1mpkg/repository/threadparticipant/repository.go:425[0m[36m >[0m [sql]: 
container: 187a2420ba58 line: 			FROM threads
container: 187a2420ba58 entry: &{Raw:			FROM threads Timestamp: Level: File: Message:			FROM threads Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.388200[0m [34mTRC[0m [1mpkg/repository/threadparticipant/repository.go:425[0m[36m >[0m [sql]: 
container: 187a2420ba58 line: 			WHERE threads.id = tp.thread_id AND
container: 187a2420ba58 entry: &{Raw:			WHERE threads.id = tp.thread_id AND Timestamp: Level: File: Message:			WHERE threads.id = tp.thread_id AND Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.388200[0m [34mTRC[0m [1mpkg/repository/threadparticipant/repository.go:425[0m[36m >[0m [sql]: 
container: 187a2420ba58 line: 			tp.id IN ($4) AND
container: 187a2420ba58 entry: &{Raw:			tp.id IN ($4) AND Timestamp: Level: File: Message:			tp.id IN ($4) AND Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.388200[0m [34mTRC[0m [1mpkg/repository/threadparticipant/repository.go:425[0m[36m >[0m [sql]: 
container: 187a2420ba58 line: 			(tp.unread_at IS NOT NULL OR COALESCE(tp.last_read_id, '') < last_message_id OR tp.remind_at < $5) AND
container: 187a2420ba58 entry: &{Raw:			(tp.unread_at IS NOT NULL OR COALESCE(tp.last_read_id, '') < last_message_id OR tp.remind_at < $5) AND Timestamp: Level: File: Message:			(tp.unread_at IS NOT NULL OR COALESCE(tp.last_read_id, '') < last_message_id OR tp.remind_at < $5) AND Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.388200[0m [34mTRC[0m [1mpkg/repository/threadparticipant/repository.go:425[0m[36m >[0m [sql]: 
container: 187a2420ba58 line: 			tp.deleted_at IS NULL
container: 187a2420ba58 entry: &{Raw:			tp.deleted_at IS NULL Timestamp: Level: File: Message:			tp.deleted_at IS NULL Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.388200[0m [34mTRC[0m [1mpkg/repository/threadparticipant/repository.go:425[0m[36m >[0m [sql]: 
container: 187a2420ba58 line: 			 [36mdb.operation=[0mupdate [36mdb.rows=[0m0 [36mdb.table=[0m [36mduration=[0m1.31283 [36mlocation=[0m["/app/pkg/repository/threadparticipant/repository.go:425","/app/pkg/operations/thread/threadparticipant.go:57","/app/pkg/handlers/stream.go:173"] [36mrequest_id=[0m88c61ef9 [36mspan_id=[0m7ce6831718616e1c [36mtrace_id=[0m7a95aea668fba2d4cbb367e5227a1ce9
container: 187a2420ba58 entry: &{Raw:			 [36mdb.operation=[0mupdate [36mdb.rows=[0m0 [36mdb.table=[0m [36mduration=[0m1.31283 [36mlocation=[0m["/app/pkg/repository/threadparticipant/repository.go:425","/app/pkg/operations/thread/threadparticipant.go:57","/app/pkg/handlers/stream.go:173"] [36mrequest_id=[0m88c61ef9 [36mspan_id=[0m7ce6831718616e1c [36mtrace_id=[0m7a95aea668fba2d4cbb367e5227a1ce9 Timestamp:6831718616 Level: File: Message:e1c Fields:map[trace_id:7a95aea668fba2d4cbb367e5227a1ce9] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.388200[0m [34mTRC[0m [1mpkg/repository/threadparticipant/repository.go:425[0m[36m >[0m [sql]: 
container: 187a2420ba58 line: [90mOct  6 20:26:04.389454[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:26:04Z POST /stream/webhook - 200 (37 bytes)[0m [36mip=[0m3.215.161.238 [36mlatency=[0m8.007225 [36mmethod=[0mPOST [36mpath=[0m/stream/webhook [36mrequest_id=[0m88c61ef9 [36mstatus=[0m200 [36muser-agent=[0mGo-http-client/1.1
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:26:04.389454[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:26:04Z POST /stream/webhook - 200 (37 bytes)[0m [36mip=[0m3.215.161.238 [36mlatency=[0m8.007225 [36mmethod=[0mPOST [36mpath=[0m/stream/webhook [36mrequest_id=[0m88c61ef9 [36mstatus=[0m200 [36muser-agent=[0mGo-http-client/1.1 Timestamp:Oct  6 20:26:04.389454 INF Level: File:pkg/observability/logging/logging.go:110 Message:2025-10-06T20:26:04Z POST /stream/webhook - 200 (37 bytes) Fields:map[agent:Go-http-client/1.1 ip:3.215.161.238 latency:8.007225 method:POST path:/stream/webhook request_id:88c61ef9 status:200] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:			 [36mdb.operation=[0mupdate [36mdb.rows=[0m0 [36mdb.table=[0m [36mduration=[0m1.31283 [36mlocation=[0m["/app/pkg/repository/threadparticipant/repository.go:425","/app/pkg/operations/thread/threadparticipant.go:57","/app/pkg/handlers/stream.go:173"] [36mrequest_id=[0m88c61ef9 [36mspan_id=[0m7ce6831718616e1c [36mtrace_id=[0m7a95aea668fba2d4cbb367e5227a1ce9 Timestamp:6831718616 Level: File: Message:e1c Fields:map[trace_id:7a95aea668fba2d4cbb367e5227a1ce9] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:26:55.372637[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcustomer.subscription.deleted [36mrequest_id=[0m07cea4e2 [36mstripeID=[0mevt_1SFKziCSZYH8WWmlPsD9BFBQ
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:26:55.372637[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcustomer.subscription.deleted [36mrequest_id=[0m07cea4e2 [36mstripeID=[0mevt_1SFKziCSZYH8WWmlPsD9BFBQ Timestamp:Oct  6 20:26:55.372637 INF Level: File:pkg/handlers/stripe.go:84 Message:received stripe event Fields:map[eventType:customer.subscription.deleted request_id:07cea4e2 stripeID:evt_1SFKziCSZYH8WWmlPsD9BFBQ] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:04.389454[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:26:04Z POST /stream/webhook - 200 (37 bytes)[0m [36mip=[0m3.215.161.238 [36mlatency=[0m8.007225 [36mmethod=[0mPOST [36mpath=[0m/stream/webhook [36mrequest_id=[0m88c61ef9 [36mstatus=[0m200 [36muser-agent=[0mGo-http-client/1.1 Timestamp:Oct  6 20:26:04.389454 INF Level: File:pkg/observability/logging/logging.go:110 Message:2025-10-06T20:26:04Z POST /stream/webhook - 200 (37 bytes) Fields:map[agent:Go-http-client/1.1 ip:3.215.161.238 latency:8.007225 method:POST path:/stream/webhook request_id:88c61ef9 status:200] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:26:55.388272[0m [34mTRC[0m [1mpkg/repository/workspace/repository.go:145[0m[36m >[0m [sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 [36mdb.error=[0m"record not found" [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspaces [36mduration=[0m9.027889 [36mlocation=[0m["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:314"] [36mrequest_id=[0m07cea4e2 [36mspan_id=[0m40722cb2eeeafb96 [36mtrace_id=[0ma54fa69a68c4b7f32171d1c45ed55ddc
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:26:55.388272[0m [34mTRC[0m [1mpkg/repository/workspace/repository.go:145[0m[36m >[0m [sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 [36mdb.error=[0m"record not found" [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspaces [36mduration=[0m9.027889 [36mlocation=[0m["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:314"] [36mrequest_id=[0m07cea4e2 [36mspan_id=[0m40722cb2eeeafb96 [36mtrace_id=[0ma54fa69a68c4b7f32171d1c45ed55ddc Timestamp:Oct  6 20:26:55.388272 TRC Level: File:pkg/repository/workspace/repository.go:145 Message:[sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 Fields:map[db.error:record not found db.operation:select db.rows:0 db.table:workspaces duration:9.027889 location:["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:314"] request_id:07cea4e2 span_id:40722cb2eeeafb96 trace_id:a54fa69a68c4b7f32171d1c45ed55ddc] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:55.372637[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcustomer.subscription.deleted [36mrequest_id=[0m07cea4e2 [36mstripeID=[0mevt_1SFKziCSZYH8WWmlPsD9BFBQ Timestamp:Oct  6 20:26:55.372637 INF Level: File:pkg/handlers/stripe.go:84 Message:received stripe event Fields:map[eventType:customer.subscription.deleted request_id:07cea4e2 stripeID:evt_1SFKziCSZYH8WWmlPsD9BFBQ] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: 
container: 187a2420ba58 entry: &{Raw: Timestamp: Level: File: Message: Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:55.388272[0m [34mTRC[0m [1mpkg/repository/workspace/repository.go:145[0m[36m >[0m [sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 [36mdb.error=[0m"record not found" [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspaces [36mduration=[0m9.027889 [36mlocation=[0m["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:314"] [36mrequest_id=[0m07cea4e2 [36mspan_id=[0m40722cb2eeeafb96 [36mtrace_id=[0ma54fa69a68c4b7f32171d1c45ed55ddc Timestamp:Oct  6 20:26:55.388272 TRC Level: File:pkg/repository/workspace/repository.go:145 Message:[sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 Fields:map[db.error:record not found db.operation:select db.rows:0 db.table:workspaces duration:9.027889 location:["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:314"] request_id:07cea4e2 span_id:40722cb2eeeafb96 trace_id:a54fa69a68c4b7f32171d1c45ed55ddc] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: 2025/10/06 20:26:55 [31;1m/app/pkg/repository/workspace/repository.go:145 [35;1mrecord not found
container: 187a2420ba58 entry: &{Raw:2025/10/06 20:26:55 [31;1m/app/pkg/repository/workspace/repository.go:145 [35;1mrecord not found Timestamp:2025/10/06 20:26:55 Level: File:/app/pkg/repository/workspace/repository.go:145 Message:record not found Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:55.388272[0m [34mTRC[0m [1mpkg/repository/workspace/repository.go:145[0m[36m >[0m [sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 [36mdb.error=[0m"record not found" [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspaces [36mduration=[0m9.027889 [36mlocation=[0m["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:314"] [36mrequest_id=[0m07cea4e2 [36mspan_id=[0m40722cb2eeeafb96 [36mtrace_id=[0ma54fa69a68c4b7f32171d1c45ed55ddc
container: 187a2420ba58 line: [0m[33m[9.433ms] [34;1m[rows:0][0m SELECT * FROM "workspaces" WHERE id = '33hvTwRRzFsBoyorIeiYCSmW5xS' AND "workspaces"."deleted_at" IS NULL LIMIT 1
container: 187a2420ba58 entry: &{Raw:[0m[33m[9.433ms] [34;1m[rows:0][0m SELECT * FROM "workspaces" WHERE id = '33hvTwRRzFsBoyorIeiYCSmW5xS' AND "workspaces"."deleted_at" IS NULL LIMIT 1 Timestamp: Level: File: Message:[9.433ms] [rows:0] SELECT * FROM "workspaces" WHERE id = '33hvTwRRzFsBoyorIeiYCSmW5xS' AND "workspaces"."deleted_at" IS NULL LIMIT 1 Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:2025/10/06 20:26:55 [31;1m/app/pkg/repository/workspace/repository.go:145 [35;1mrecord not found Timestamp:2025/10/06 20:26:55 Level: File:/app/pkg/repository/workspace/repository.go:145 Message:record not found Fields:map[] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:26:55.391200[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:26:55Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m3.18.12.63 [36mlatency=[0m27.514875 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0m07cea4e2 [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)"
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:26:55.391200[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:26:55Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m3.18.12.63 [36mlatency=[0m27.514875 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0m07cea4e2 [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)" Timestamp:Oct  6 20:26:55.391200 INF Level: File:pkg/observability/logging/logging.go:110 Message:2025-10-06T20:26:55Z POST /stripe/webhook - 200 (26 bytes) Fields:map[agent:Stripe/1.0 (+https://stripe.com/docs/webhooks) ip:3.18.12.63 latency:27.514875 method:POST path:/stripe/webhook request_id:07cea4e2 status:200] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:2025/10/06 20:26:55 [31;1m/app/pkg/repository/workspace/repository.go:145 [35;1mrecord not found
container: 187a2420ba58 line: [90mOct  6 20:26:55.523022[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 3892 bytes for traces/stripe/evt_1SFKziCSZYH8WWmlPsD9BFBQ[0m [36mrequest_id=[0m07cea4e2
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:26:55.523022[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 3892 bytes for traces/stripe/evt_1SFKziCSZYH8WWmlPsD9BFBQ[0m [36mrequest_id=[0m07cea4e2 Timestamp:Oct  6 20:26:55.523022 INF Level: File:pkg/traces/trace_service.go:221 Message:Successfully saved 3892 bytes for traces/stripe/evt_1SFKziCSZYH8WWmlPsD9BFBQ Fields:map[request_id:07cea4e2] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:55.391200[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:26:55Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m3.18.12.63 [36mlatency=[0m27.514875 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0m07cea4e2 [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)" Timestamp:Oct  6 20:26:55.391200 INF Level: File:pkg/observability/logging/logging.go:110 Message:2025-10-06T20:26:55Z POST /stripe/webhook - 200 (26 bytes) Fields:map[agent:Stripe/1.0 (+https://stripe.com/docs/webhooks) ip:3.18.12.63 latency:27.514875 method:POST path:/stripe/webhook request_id:07cea4e2 status:200] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:27:01.454298[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcustomer.created [36mrequest_id=[0mf7632fb6 [36mstripeID=[0mevt_1SFKzoCSZYH8WWmlfrsWoodw
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:27:01.454298[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcustomer.created [36mrequest_id=[0mf7632fb6 [36mstripeID=[0mevt_1SFKzoCSZYH8WWmlfrsWoodw Timestamp:Oct  6 20:27:01.454298 INF Level: File:pkg/handlers/stripe.go:84 Message:received stripe event Fields:map[eventType:customer.created request_id:f7632fb6 stripeID:evt_1SFKzoCSZYH8WWmlfrsWoodw] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:26:55.523022[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 3892 bytes for traces/stripe/evt_1SFKziCSZYH8WWmlPsD9BFBQ[0m [36mrequest_id=[0m07cea4e2 Timestamp:Oct  6 20:26:55.523022 INF Level: File:pkg/traces/trace_service.go:221 Message:Successfully saved 3892 bytes for traces/stripe/evt_1SFKziCSZYH8WWmlPsD9BFBQ Fields:map[request_id:07cea4e2] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:27:01.455446[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcheckout.session.completed [36mrequest_id=[0me0cb3588 [36mstripeID=[0mevt_1SFKzoCSZYH8WWmllqzdVZwU
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:27:01.455446[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcheckout.session.completed [36mrequest_id=[0me0cb3588 [36mstripeID=[0mevt_1SFKzoCSZYH8WWmllqzdVZwU Timestamp:Oct  6 20:27:01.455446 INF Level: File:pkg/handlers/stripe.go:84 Message:received stripe event Fields:map[eventType:checkout.session.completed request_id:e0cb3588 stripeID:evt_1SFKzoCSZYH8WWmllqzdVZwU] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:27:01.454298[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcustomer.created [36mrequest_id=[0mf7632fb6 [36mstripeID=[0mevt_1SFKzoCSZYH8WWmlfrsWoodw Timestamp:Oct  6 20:27:01.454298 INF Level: File:pkg/handlers/stripe.go:84 Message:received stripe event Fields:map[eventType:customer.created request_id:f7632fb6 stripeID:evt_1SFKzoCSZYH8WWmlfrsWoodw] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:27:01.463396[0m [34mTRC[0m [1mpkg/repository/workspacesubscription/repository.go:81[0m[36m >[0m [sql]: SELECT * FROM "workspace_subscriptions" WHERE stripe_customer->>'id' = $1 AND "workspace_subscriptions"."deleted_at" IS NULL [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspace_subscriptions [36mduration=[0m1.715203 [36mlocation=[0m["/app/pkg/repository/workspacesubscription/repository.go:81","/app/pkg/handlers/stripe.go:126","/app/pkg/handlers/stripe.go:217"] [36mrequest_id=[0mf7632fb6 [36mspan_id=[0mc1a62e41a302c659 [36mtrace_id=[0m866375cbac29aa7ca8469a9a65c4f5ba
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:27:01.463396[0m [34mTRC[0m [1mpkg/repository/workspacesubscription/repository.go:81[0m[36m >[0m [sql]: SELECT * FROM "workspace_subscriptions" WHERE stripe_customer->>'id' = $1 AND "workspace_subscriptions"."deleted_at" IS NULL [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspace_subscriptions [36mduration=[0m1.715203 [36mlocation=[0m["/app/pkg/repository/workspacesubscription/repository.go:81","/app/pkg/handlers/stripe.go:126","/app/pkg/handlers/stripe.go:217"] [36mrequest_id=[0mf7632fb6 [36mspan_id=[0mc1a62e41a302c659 [36mtrace_id=[0m866375cbac29aa7ca8469a9a65c4f5ba Timestamp:Oct  6 20:27:01.463396 TRC Level: File:pkg/repository/workspacesubscription/repository.go:81 Message:[sql]: SELECT * FROM "workspace_subscriptions" WHERE stripe_customer->>'id' = $1 AND "workspace_subscriptions"."deleted_at" IS NULL Fields:map[db.operation:select db.rows:0 db.table:workspace_subscriptions duration:1.715203 location:["/app/pkg/repository/workspacesubscription/repository.go:81","/app/pkg/handlers/stripe.go:126","/app/pkg/handlers/stripe.go:217"] request_id:f7632fb6 span_id:c1a62e41a302c659 trace_id:866375cbac29aa7ca8469a9a65c4f5ba] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:27:01.455446[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcheckout.session.completed [36mrequest_id=[0me0cb3588 [36mstripeID=[0mevt_1SFKzoCSZYH8WWmllqzdVZwU Timestamp:Oct  6 20:27:01.455446 INF Level: File:pkg/handlers/stripe.go:84 Message:received stripe event Fields:map[eventType:checkout.session.completed request_id:e0cb3588 stripeID:evt_1SFKzoCSZYH8WWmllqzdVZwU] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:27:01.464013[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:27:01Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m3.18.12.63 [36mlatency=[0m37.637552 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0mf7632fb6 [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)"
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:27:01.464013[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:27:01Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m3.18.12.63 [36mlatency=[0m37.637552 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0mf7632fb6 [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)" Timestamp:Oct  6 20:27:01.464013 INF Level: File:pkg/observability/logging/logging.go:110 Message:2025-10-06T20:27:01Z POST /stripe/webhook - 200 (26 bytes) Fields:map[agent:Stripe/1.0 (+https://stripe.com/docs/webhooks) ip:3.18.12.63 latency:37.637552 method:POST path:/stripe/webhook request_id:f7632fb6 status:200] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:27:01.463396[0m [34mTRC[0m [1mpkg/repository/workspacesubscription/repository.go:81[0m[36m >[0m [sql]: SELECT * FROM "workspace_subscriptions" WHERE stripe_customer->>'id' = $1 AND "workspace_subscriptions"."deleted_at" IS NULL [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspace_subscriptions [36mduration=[0m1.715203 [36mlocation=[0m["/app/pkg/repository/workspacesubscription/repository.go:81","/app/pkg/handlers/stripe.go:126","/app/pkg/handlers/stripe.go:217"] [36mrequest_id=[0mf7632fb6 [36mspan_id=[0mc1a62e41a302c659 [36mtrace_id=[0m866375cbac29aa7ca8469a9a65c4f5ba Timestamp:Oct  6 20:27:01.463396 TRC Level: File:pkg/repository/workspacesubscription/repository.go:81 Message:[sql]: SELECT * FROM "workspace_subscriptions" WHERE stripe_customer->>'id' = $1 AND "workspace_subscriptions"."deleted_at" IS NULL Fields:map[db.operation:select db.rows:0 db.table:workspace_subscriptions duration:1.715203 location:["/app/pkg/repository/workspacesubscription/repository.go:81","/app/pkg/handlers/stripe.go:126","/app/pkg/handlers/stripe.go:217"] request_id:f7632fb6 span_id:c1a62e41a302c659 trace_id:866375cbac29aa7ca8469a9a65c4f5ba] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: 
container: 187a2420ba58 entry: &{Raw: Timestamp: Level: File: Message: Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:27:01.464013[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:27:01Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m3.18.12.63 [36mlatency=[0m37.637552 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0mf7632fb6 [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)" Timestamp:Oct  6 20:27:01.464013 INF Level: File:pkg/observability/logging/logging.go:110 Message:2025-10-06T20:27:01Z POST /stripe/webhook - 200 (26 bytes) Fields:map[agent:Stripe/1.0 (+https://stripe.com/docs/webhooks) ip:3.18.12.63 latency:37.637552 method:POST path:/stripe/webhook request_id:f7632fb6 status:200] IsJSON:false JSONFields:map[]}
container:  187a2420ba58 lines:  27
container: 187a2420ba58 line: [90mOct  6 20:27:01.466553[0m [34mTRC[0m [1mpkg/repository/workspace/repository.go:145[0m[36m >[0m [sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 [36mdb.error=[0m"record not found" [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspaces [36mduration=[0m1.405579 [36mlocation=[0m["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:202"] [36mrequest_id=[0me0cb3588 [36mspan_id=[0m16a8686a68904fd1 [36mtrace_id=[0m6fe6755199cd4228402f7c116402c90e
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:27:01.466553[0m [34mTRC[0m [1mpkg/repository/workspace/repository.go:145[0m[36m >[0m [sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 [36mdb.error=[0m"record not found" [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspaces [36mduration=[0m1.405579 [36mlocation=[0m["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:202"] [36mrequest_id=[0me0cb3588 [36mspan_id=[0m16a8686a68904fd1 [36mtrace_id=[0m6fe6755199cd4228402f7c116402c90e Timestamp:Oct  6 20:27:01.466553 TRC Level: File:pkg/repository/workspace/repository.go:145 Message:[sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 Fields:map[db.error:record not found db.operation:select db.rows:0 db.table:workspaces duration:1.405579 location:["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:202"] request_id:e0cb3588 span_id:16a8686a68904fd1 trace_id:6fe6755199cd4228402f7c116402c90e] IsJSON:false JSONFields:map[]} previousLogEntry: <nil>
container: 187a2420ba58 line: 
container: 187a2420ba58 entry: &{Raw: Timestamp: Level: File: Message: Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:27:01.466553[0m [34mTRC[0m [1mpkg/repository/workspace/repository.go:145[0m[36m >[0m [sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 [36mdb.error=[0m"record not found" [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspaces [36mduration=[0m1.405579 [36mlocation=[0m["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:202"] [36mrequest_id=[0me0cb3588 [36mspan_id=[0m16a8686a68904fd1 [36mtrace_id=[0m6fe6755199cd4228402f7c116402c90e Timestamp:Oct  6 20:27:01.466553 TRC Level: File:pkg/repository/workspace/repository.go:145 Message:[sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 Fields:map[db.error:record not found db.operation:select db.rows:0 db.table:workspaces duration:1.405579 location:["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:202"] request_id:e0cb3588 span_id:16a8686a68904fd1 trace_id:6fe6755199cd4228402f7c116402c90e] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: 2025/10/06 20:27:01 [31;1m/app/pkg/repository/workspace/repository.go:145 [35;1mrecord not found
container: 187a2420ba58 entry: &{Raw:2025/10/06 20:27:01 [31;1m/app/pkg/repository/workspace/repository.go:145 [35;1mrecord not found Timestamp:2025/10/06 20:27:01 Level: File:/app/pkg/repository/workspace/repository.go:145 Message:record not found Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:27:01.466553[0m [34mTRC[0m [1mpkg/repository/workspace/repository.go:145[0m[36m >[0m [sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 [36mdb.error=[0m"record not found" [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspaces [36mduration=[0m1.405579 [36mlocation=[0m["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:202"] [36mrequest_id=[0me0cb3588 [36mspan_id=[0m16a8686a68904fd1 [36mtrace_id=[0m6fe6755199cd4228402f7c116402c90e
container: 187a2420ba58 line: [0m[33m[1.484ms] [34;1m[rows:0][0m SELECT * FROM "workspaces" WHERE id = '33hvxVXaX9ObW9fx0cMkQTMRj37' AND "workspaces"."deleted_at" IS NULL LIMIT 1
container: 187a2420ba58 entry: &{Raw:[0m[33m[1.484ms] [34;1m[rows:0][0m SELECT * FROM "workspaces" WHERE id = '33hvxVXaX9ObW9fx0cMkQTMRj37' AND "workspaces"."deleted_at" IS NULL LIMIT 1 Timestamp: Level: File: Message:[1.484ms] [rows:0] SELECT * FROM "workspaces" WHERE id = '33hvxVXaX9ObW9fx0cMkQTMRj37' AND "workspaces"."deleted_at" IS NULL LIMIT 1 Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:2025/10/06 20:27:01 [31;1m/app/pkg/repository/workspace/repository.go:145 [35;1mrecord not found Timestamp:2025/10/06 20:27:01 Level: File:/app/pkg/repository/workspace/repository.go:145 Message:record not found Fields:map[] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:27:01.467099[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:27:01Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m3.18.12.63 [36mlatency=[0m16.860907 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0me0cb3588 [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)"
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:27:01.467099[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:27:01Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m3.18.12.63 [36mlatency=[0m16.860907 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0me0cb3588 [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)" Timestamp:Oct  6 20:27:01.467099 INF Level: File:pkg/observability/logging/logging.go:110 Message:2025-10-06T20:27:01Z POST /stripe/webhook - 200 (26 bytes) Fields:map[agent:Stripe/1.0 (+https://stripe.com/docs/webhooks) ip:3.18.12.63 latency:16.860907 method:POST path:/stripe/webhook request_id:e0cb3588 status:200] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:2025/10/06 20:27:01 [31;1m/app/pkg/repository/workspace/repository.go:145 [35;1mrecord not found
container: 187a2420ba58 line: [90mOct  6 20:27:01.507864[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 2957 bytes for traces/stripe/evt_1SFKzoCSZYH8WWmllqzdVZwU[0m [36mrequest_id=[0me0cb3588
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:27:01.507864[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 2957 bytes for traces/stripe/evt_1SFKzoCSZYH8WWmllqzdVZwU[0m [36mrequest_id=[0me0cb3588 Timestamp:Oct  6 20:27:01.507864 INF Level: File:pkg/traces/trace_service.go:221 Message:Successfully saved 2957 bytes for traces/stripe/evt_1SFKzoCSZYH8WWmllqzdVZwU Fields:map[request_id:e0cb3588] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:27:01.467099[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:27:01Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m3.18.12.63 [36mlatency=[0m16.860907 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0me0cb3588 [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)" Timestamp:Oct  6 20:27:01.467099 INF Level: File:pkg/observability/logging/logging.go:110 Message:2025-10-06T20:27:01Z POST /stripe/webhook - 200 (26 bytes) Fields:map[agent:Stripe/1.0 (+https://stripe.com/docs/webhooks) ip:3.18.12.63 latency:16.860907 method:POST path:/stripe/webhook request_id:e0cb3588 status:200] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:27:01.591792[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 935 bytes for traces/stripe/evt_1SFKzoCSZYH8WWmlfrsWoodw[0m [36mrequest_id=[0mf7632fb6
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:27:01.591792[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 935 bytes for traces/stripe/evt_1SFKzoCSZYH8WWmlfrsWoodw[0m [36mrequest_id=[0mf7632fb6 Timestamp:Oct  6 20:27:01.591792 INF Level: File:pkg/traces/trace_service.go:221 Message:Successfully saved 935 bytes for traces/stripe/evt_1SFKzoCSZYH8WWmlfrsWoodw Fields:map[request_id:f7632fb6] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:27:01.507864[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 2957 bytes for traces/stripe/evt_1SFKzoCSZYH8WWmllqzdVZwU[0m [36mrequest_id=[0me0cb3588 Timestamp:Oct  6 20:27:01.507864 INF Level: File:pkg/traces/trace_service.go:221 Message:Successfully saved 2957 bytes for traces/stripe/evt_1SFKzoCSZYH8WWmllqzdVZwU Fields:map[request_id:e0cb3588] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:27:02.667490[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcustomer.updated [36mrequest_id=[0m39febd79 [36mstripeID=[0mevt_1SFKzqCSZYH8WWmlwdQTyjaI
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:27:02.667490[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcustomer.updated [36mrequest_id=[0m39febd79 [36mstripeID=[0mevt_1SFKzqCSZYH8WWmlwdQTyjaI Timestamp:Oct  6 20:27:02.667490 INF Level: File:pkg/handlers/stripe.go:84 Message:received stripe event Fields:map[eventType:customer.updated request_id:39febd79 stripeID:evt_1SFKzqCSZYH8WWmlwdQTyjaI] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:27:01.591792[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 935 bytes for traces/stripe/evt_1SFKzoCSZYH8WWmlfrsWoodw[0m [36mrequest_id=[0mf7632fb6 Timestamp:Oct  6 20:27:01.591792 INF Level: File:pkg/traces/trace_service.go:221 Message:Successfully saved 935 bytes for traces/stripe/evt_1SFKzoCSZYH8WWmlfrsWoodw Fields:map[request_id:f7632fb6] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:27:02.668409[0m [34mTRC[0m [1mpkg/repository/workspacesubscription/repository.go:81[0m[36m >[0m [sql]: SELECT * FROM "workspace_subscriptions" WHERE stripe_customer->>'id' = $1 AND "workspace_subscriptions"."deleted_at" IS NULL [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspace_subscriptions [36mduration=[0m0.657748 [36mlocation=[0m["/app/pkg/repository/workspacesubscription/repository.go:81","/app/pkg/handlers/stripe.go:126","/app/pkg/handlers/stripe.go:217"] [36mrequest_id=[0m39febd79 [36mspan_id=[0m5512fbb7cef10f18 [36mtrace_id=[0mf66ad1028aa96ffd882cae7e72b07001
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:27:02.668409[0m [34mTRC[0m [1mpkg/repository/workspacesubscription/repository.go:81[0m[36m >[0m [sql]: SELECT * FROM "workspace_subscriptions" WHERE stripe_customer->>'id' = $1 AND "workspace_subscriptions"."deleted_at" IS NULL [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspace_subscriptions [36mduration=[0m0.657748 [36mlocation=[0m["/app/pkg/repository/workspacesubscription/repository.go:81","/app/pkg/handlers/stripe.go:126","/app/pkg/handlers/stripe.go:217"] [36mrequest_id=[0m39febd79 [36mspan_id=[0m5512fbb7cef10f18 [36mtrace_id=[0mf66ad1028aa96ffd882cae7e72b07001 Timestamp:Oct  6 20:27:02.668409 TRC Level: File:pkg/repository/workspacesubscription/repository.go:81 Message:[sql]: SELECT * FROM "workspace_subscriptions" WHERE stripe_customer->>'id' = $1 AND "workspace_subscriptions"."deleted_at" IS NULL Fields:map[db.operation:select db.rows:0 db.table:workspace_subscriptions duration:0.657748 location:["/app/pkg/repository/workspacesubscription/repository.go:81","/app/pkg/handlers/stripe.go:126","/app/pkg/handlers/stripe.go:217"] request_id:39febd79 span_id:5512fbb7cef10f18 trace_id:f66ad1028aa96ffd882cae7e72b07001] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:27:02.667490[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcustomer.updated [36mrequest_id=[0m39febd79 [36mstripeID=[0mevt_1SFKzqCSZYH8WWmlwdQTyjaI Timestamp:Oct  6 20:27:02.667490 INF Level: File:pkg/handlers/stripe.go:84 Message:received stripe event Fields:map[eventType:customer.updated request_id:39febd79 stripeID:evt_1SFKzqCSZYH8WWmlwdQTyjaI] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:27:02.669286[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:27:02Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m3.18.12.63 [36mlatency=[0m2.233993 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0m39febd79 [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)"
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:27:02.669286[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:27:02Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m3.18.12.63 [36mlatency=[0m2.233993 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0m39febd79 [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)" Timestamp:Oct  6 20:27:02.669286 INF Level: File:pkg/observability/logging/logging.go:110 Message:2025-10-06T20:27:02Z POST /stripe/webhook - 200 (26 bytes) Fields:map[agent:Stripe/1.0 (+https://stripe.com/docs/webhooks) ip:3.18.12.63 latency:2.233993 method:POST path:/stripe/webhook request_id:39febd79 status:200] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:27:02.668409[0m [34mTRC[0m [1mpkg/repository/workspacesubscription/repository.go:81[0m[36m >[0m [sql]: SELECT * FROM "workspace_subscriptions" WHERE stripe_customer->>'id' = $1 AND "workspace_subscriptions"."deleted_at" IS NULL [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspace_subscriptions [36mduration=[0m0.657748 [36mlocation=[0m["/app/pkg/repository/workspacesubscription/repository.go:81","/app/pkg/handlers/stripe.go:126","/app/pkg/handlers/stripe.go:217"] [36mrequest_id=[0m39febd79 [36mspan_id=[0m5512fbb7cef10f18 [36mtrace_id=[0mf66ad1028aa96ffd882cae7e72b07001 Timestamp:Oct  6 20:27:02.668409 TRC Level: File:pkg/repository/workspacesubscription/repository.go:81 Message:[sql]: SELECT * FROM "workspace_subscriptions" WHERE stripe_customer->>'id' = $1 AND "workspace_subscriptions"."deleted_at" IS NULL Fields:map[db.operation:select db.rows:0 db.table:workspace_subscriptions duration:0.657748 location:["/app/pkg/repository/workspacesubscription/repository.go:81","/app/pkg/handlers/stripe.go:126","/app/pkg/handlers/stripe.go:217"] request_id:39febd79 span_id:5512fbb7cef10f18 trace_id:f66ad1028aa96ffd882cae7e72b07001] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:27:02.711306[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 949 bytes for traces/stripe/evt_1SFKzqCSZYH8WWmlwdQTyjaI[0m [36mrequest_id=[0m39febd79
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:27:02.711306[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 949 bytes for traces/stripe/evt_1SFKzqCSZYH8WWmlwdQTyjaI[0m [36mrequest_id=[0m39febd79 Timestamp:Oct  6 20:27:02.711306 INF Level: File:pkg/traces/trace_service.go:221 Message:Successfully saved 949 bytes for traces/stripe/evt_1SFKzqCSZYH8WWmlwdQTyjaI Fields:map[request_id:39febd79] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:27:02.669286[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:27:02Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m3.18.12.63 [36mlatency=[0m2.233993 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0m39febd79 [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)" Timestamp:Oct  6 20:27:02.669286 INF Level: File:pkg/observability/logging/logging.go:110 Message:2025-10-06T20:27:02Z POST /stripe/webhook - 200 (26 bytes) Fields:map[agent:Stripe/1.0 (+https://stripe.com/docs/webhooks) ip:3.18.12.63 latency:2.233993 method:POST path:/stripe/webhook request_id:39febd79 status:200] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:27:03.821389[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0minvoice.paid [36mrequest_id=[0m3d40f816 [36mstripeID=[0mevt_1SFKzrCSZYH8WWmlbgh0aujK
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:27:03.821389[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0minvoice.paid [36mrequest_id=[0m3d40f816 [36mstripeID=[0mevt_1SFKzrCSZYH8WWmlbgh0aujK Timestamp:Oct  6 20:27:03.821389 INF Level: File:pkg/handlers/stripe.go:84 Message:received stripe event Fields:map[eventType:invoice.paid request_id:3d40f816 stripeID:evt_1SFKzrCSZYH8WWmlbgh0aujK] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:27:02.711306[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 949 bytes for traces/stripe/evt_1SFKzqCSZYH8WWmlwdQTyjaI[0m [36mrequest_id=[0m39febd79 Timestamp:Oct  6 20:27:02.711306 INF Level: File:pkg/traces/trace_service.go:221 Message:Successfully saved 949 bytes for traces/stripe/evt_1SFKzqCSZYH8WWmlwdQTyjaI Fields:map[request_id:39febd79] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:27:03.824653[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:27:03Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m3.18.12.63 [36mlatency=[0m5.433442 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0m3d40f816 [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)"
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:27:03.824653[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:27:03Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m3.18.12.63 [36mlatency=[0m5.433442 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0m3d40f816 [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)" Timestamp:Oct  6 20:27:03.824653 INF Level: File:pkg/observability/logging/logging.go:110 Message:2025-10-06T20:27:03Z POST /stripe/webhook - 200 (26 bytes) Fields:map[agent:Stripe/1.0 (+https://stripe.com/docs/webhooks) ip:3.18.12.63 latency:5.433442 method:POST path:/stripe/webhook request_id:3d40f816 status:200] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:27:03.821389[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0minvoice.paid [36mrequest_id=[0m3d40f816 [36mstripeID=[0mevt_1SFKzrCSZYH8WWmlbgh0aujK Timestamp:Oct  6 20:27:03.821389 INF Level: File:pkg/handlers/stripe.go:84 Message:received stripe event Fields:map[eventType:invoice.paid request_id:3d40f816 stripeID:evt_1SFKzrCSZYH8WWmlbgh0aujK] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:27:03.866227[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 5479 bytes for traces/stripe/evt_1SFKzrCSZYH8WWmlbgh0aujK[0m [36mrequest_id=[0m3d40f816
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:27:03.866227[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 5479 bytes for traces/stripe/evt_1SFKzrCSZYH8WWmlbgh0aujK[0m [36mrequest_id=[0m3d40f816 Timestamp:Oct  6 20:27:03.866227 INF Level: File:pkg/traces/trace_service.go:221 Message:Successfully saved 5479 bytes for traces/stripe/evt_1SFKzrCSZYH8WWmlbgh0aujK Fields:map[request_id:3d40f816] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:27:03.824653[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:27:03Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m3.18.12.63 [36mlatency=[0m5.433442 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0m3d40f816 [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)" Timestamp:Oct  6 20:27:03.824653 INF Level: File:pkg/observability/logging/logging.go:110 Message:2025-10-06T20:27:03Z POST /stripe/webhook - 200 (26 bytes) Fields:map[agent:Stripe/1.0 (+https://stripe.com/docs/webhooks) ip:3.18.12.63 latency:5.433442 method:POST path:/stripe/webhook request_id:3d40f816 status:200] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:27:04.214764[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcustomer.subscription.created [36mrequest_id=[0m4a6fa597 [36mstripeID=[0mevt_1SFKzrCSZYH8WWml7G9LJs76
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:27:04.214764[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcustomer.subscription.created [36mrequest_id=[0m4a6fa597 [36mstripeID=[0mevt_1SFKzrCSZYH8WWml7G9LJs76 Timestamp:Oct  6 20:27:04.214764 INF Level: File:pkg/handlers/stripe.go:84 Message:received stripe event Fields:map[eventType:customer.subscription.created request_id:4a6fa597 stripeID:evt_1SFKzrCSZYH8WWml7G9LJs76] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:27:03.866227[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 5479 bytes for traces/stripe/evt_1SFKzrCSZYH8WWmlbgh0aujK[0m [36mrequest_id=[0m3d40f816 Timestamp:Oct  6 20:27:03.866227 INF Level: File:pkg/traces/trace_service.go:221 Message:Successfully saved 5479 bytes for traces/stripe/evt_1SFKzrCSZYH8WWmlbgh0aujK Fields:map[request_id:3d40f816] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:27:04.219241[0m [34mTRC[0m [1mpkg/repository/workspace/repository.go:145[0m[36m >[0m [sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 [36mdb.error=[0m"record not found" [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspaces [36mduration=[0m2.746492 [36mlocation=[0m["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:257"] [36mrequest_id=[0m4a6fa597 [36mspan_id=[0m05d7abc2eca77cd6 [36mtrace_id=[0m7604e8dd71959d07471634a252ffde26
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:27:04.219241[0m [34mTRC[0m [1mpkg/repository/workspace/repository.go:145[0m[36m >[0m [sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 [36mdb.error=[0m"record not found" [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspaces [36mduration=[0m2.746492 [36mlocation=[0m["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:257"] [36mrequest_id=[0m4a6fa597 [36mspan_id=[0m05d7abc2eca77cd6 [36mtrace_id=[0m7604e8dd71959d07471634a252ffde26 Timestamp:Oct  6 20:27:04.219241 TRC Level: File:pkg/repository/workspace/repository.go:145 Message:[sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 Fields:map[db.error:record not found db.operation:select db.rows:0 db.table:workspaces duration:2.746492 location:["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:257"] request_id:4a6fa597 span_id:05d7abc2eca77cd6 trace_id:7604e8dd71959d07471634a252ffde26] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:27:04.214764[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcustomer.subscription.created [36mrequest_id=[0m4a6fa597 [36mstripeID=[0mevt_1SFKzrCSZYH8WWml7G9LJs76 Timestamp:Oct  6 20:27:04.214764 INF Level: File:pkg/handlers/stripe.go:84 Message:received stripe event Fields:map[eventType:customer.subscription.created request_id:4a6fa597 stripeID:evt_1SFKzrCSZYH8WWml7G9LJs76] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: 
container: 187a2420ba58 entry: &{Raw: Timestamp: Level: File: Message: Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:27:04.219241[0m [34mTRC[0m [1mpkg/repository/workspace/repository.go:145[0m[36m >[0m [sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 [36mdb.error=[0m"record not found" [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspaces [36mduration=[0m2.746492 [36mlocation=[0m["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:257"] [36mrequest_id=[0m4a6fa597 [36mspan_id=[0m05d7abc2eca77cd6 [36mtrace_id=[0m7604e8dd71959d07471634a252ffde26 Timestamp:Oct  6 20:27:04.219241 TRC Level: File:pkg/repository/workspace/repository.go:145 Message:[sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 Fields:map[db.error:record not found db.operation:select db.rows:0 db.table:workspaces duration:2.746492 location:["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:257"] request_id:4a6fa597 span_id:05d7abc2eca77cd6 trace_id:7604e8dd71959d07471634a252ffde26] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: 2025/10/06 20:27:04 [31;1m/app/pkg/repository/workspace/repository.go:145 [35;1mrecord not found
container: 187a2420ba58 entry: &{Raw:2025/10/06 20:27:04 [31;1m/app/pkg/repository/workspace/repository.go:145 [35;1mrecord not found Timestamp:2025/10/06 20:27:04 Level: File:/app/pkg/repository/workspace/repository.go:145 Message:record not found Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:27:04.219241[0m [34mTRC[0m [1mpkg/repository/workspace/repository.go:145[0m[36m >[0m [sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 [36mdb.error=[0m"record not found" [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspaces [36mduration=[0m2.746492 [36mlocation=[0m["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:257"] [36mrequest_id=[0m4a6fa597 [36mspan_id=[0m05d7abc2eca77cd6 [36mtrace_id=[0m7604e8dd71959d07471634a252ffde26
container: 187a2420ba58 line: [0m[33m[3.119ms] [34;1m[rows:0][0m SELECT * FROM "workspaces" WHERE id = '33hvxVXaX9ObW9fx0cMkQTMRj37' AND "workspaces"."deleted_at" IS NULL LIMIT 1
container: 187a2420ba58 entry: &{Raw:[0m[33m[3.119ms] [34;1m[rows:0][0m SELECT * FROM "workspaces" WHERE id = '33hvxVXaX9ObW9fx0cMkQTMRj37' AND "workspaces"."deleted_at" IS NULL LIMIT 1 Timestamp: Level: File: Message:[3.119ms] [rows:0] SELECT * FROM "workspaces" WHERE id = '33hvxVXaX9ObW9fx0cMkQTMRj37' AND "workspaces"."deleted_at" IS NULL LIMIT 1 Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:2025/10/06 20:27:04 [31;1m/app/pkg/repository/workspace/repository.go:145 [35;1mrecord not found Timestamp:2025/10/06 20:27:04 Level: File:/app/pkg/repository/workspace/repository.go:145 Message:record not found Fields:map[] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:27:04.221718[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:27:04Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m52.15.183.38 [36mlatency=[0m8.563307 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0m4a6fa597 [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)"
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:27:04.221718[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:27:04Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m52.15.183.38 [36mlatency=[0m8.563307 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0m4a6fa597 [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)" Timestamp:Oct  6 20:27:04.221718 INF Level: File:pkg/observability/logging/logging.go:110 Message:2025-10-06T20:27:04Z POST /stripe/webhook - 200 (26 bytes) Fields:map[agent:Stripe/1.0 (+https://stripe.com/docs/webhooks) ip:52.15.183.38 latency:8.563307 method:POST path:/stripe/webhook request_id:4a6fa597 status:200] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:2025/10/06 20:27:04 [31;1m/app/pkg/repository/workspace/repository.go:145 [35;1mrecord not found
container: 187a2420ba58 line: [90mOct  6 20:27:04.257546[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 3816 bytes for traces/stripe/evt_1SFKzrCSZYH8WWml7G9LJs76[0m [36mrequest_id=[0m4a6fa597
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:27:04.257546[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 3816 bytes for traces/stripe/evt_1SFKzrCSZYH8WWml7G9LJs76[0m [36mrequest_id=[0m4a6fa597 Timestamp:Oct  6 20:27:04.257546 INF Level: File:pkg/traces/trace_service.go:221 Message:Successfully saved 3816 bytes for traces/stripe/evt_1SFKzrCSZYH8WWml7G9LJs76 Fields:map[request_id:4a6fa597] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:27:04.221718[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:27:04Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m52.15.183.38 [36mlatency=[0m8.563307 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0m4a6fa597 [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)" Timestamp:Oct  6 20:27:04.221718 INF Level: File:pkg/observability/logging/logging.go:110 Message:2025-10-06T20:27:04Z POST /stripe/webhook - 200 (26 bytes) Fields:map[agent:Stripe/1.0 (+https://stripe.com/docs/webhooks) ip:52.15.183.38 latency:8.563307 method:POST path:/stripe/webhook request_id:4a6fa597 status:200] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:27:07.255085[0m [34mTRC[0m [1mpkg/repository/user/repository.go:108[0m[36m >[0m [sql]: SELECT * FROM "users" WHERE id = $1 AND "users"."deleted_at" IS NULL LIMIT 1 [36mdb.operation=[0mselect [36mdb.rows=[0m1 [36mdb.table=[0musers [36mduration=[0m1.919703 [36mlocation=[0m["/app/pkg/repository/user/repository.go:108","/app/pkg/operations/user/userutils/userutils.go:28","/app/pkg/operations/auth/auth.go:133"] [36mrequest_id=[0me271cb81 [36mspan_id=[0meb5a31a5d1e736ad [36mtrace_id=[0mfabb30562f0e7e258def7a82c384bb4f
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:27:07.255085[0m [34mTRC[0m [1mpkg/repository/user/repository.go:108[0m[36m >[0m [sql]: SELECT * FROM "users" WHERE id = $1 AND "users"."deleted_at" IS NULL LIMIT 1 [36mdb.operation=[0mselect [36mdb.rows=[0m1 [36mdb.table=[0musers [36mduration=[0m1.919703 [36mlocation=[0m["/app/pkg/repository/user/repository.go:108","/app/pkg/operations/user/userutils/userutils.go:28","/app/pkg/operations/auth/auth.go:133"] [36mrequest_id=[0me271cb81 [36mspan_id=[0meb5a31a5d1e736ad [36mtrace_id=[0mfabb30562f0e7e258def7a82c384bb4f Timestamp:Oct  6 20:27:07.255085 TRC Level: File:pkg/repository/user/repository.go:108 Message:[sql]: SELECT * FROM "users" WHERE id = $1 AND "users"."deleted_at" IS NULL LIMIT 1 Fields:map[db.operation:select db.rows:1 db.table:users duration:1.919703 location:["/app/pkg/repository/user/repository.go:108","/app/pkg/operations/user/userutils/userutils.go:28","/app/pkg/operations/auth/auth.go:133"] request_id:e271cb81 span_id:eb5a31a5d1e736ad trace_id:fabb30562f0e7e258def7a82c384bb4f] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:27:04.257546[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 3816 bytes for traces/stripe/evt_1SFKzrCSZYH8WWml7G9LJs76[0m [36mrequest_id=[0m4a6fa597 Timestamp:Oct  6 20:27:04.257546 INF Level: File:pkg/traces/trace_service.go:221 Message:Successfully saved 3816 bytes for traces/stripe/evt_1SFKzrCSZYH8WWml7G9LJs76 Fields:map[request_id:4a6fa597] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:27:07.255713[0m DBG [1mpkg/handlers/graphql.go:234[0m[36m >[0m Processing GraphQL [36mOperations=[0m[{"operationName":"DeviceHeartbeat","query":"mutation DeviceHeartbeat($id: ID!, $input: DeviceHeartbeatInput!) {\n  deviceHeartbeat(id: $id, input: $input)\n}","variables":{"id":"dev_33R5RI19uGaorvTdFHQQLn7SbwJ","input":{"presence":"inactive"}}}] [36mrequest_id=[0me271cb81
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:27:07.255713[0m DBG [1mpkg/handlers/graphql.go:234[0m[36m >[0m Processing GraphQL [36mOperations=[0m[{"operationName":"DeviceHeartbeat","query":"mutation DeviceHeartbeat($id: ID!, $input: DeviceHeartbeatInput!) {\n  deviceHeartbeat(id: $id, input: $input)\n}","variables":{"id":"dev_33R5RI19uGaorvTdFHQQLn7SbwJ","input":{"presence":"inactive"}}}] [36mrequest_id=[0me271cb81 Timestamp:Oct  6 20:27:07.255713 DBG Level: File:pkg/handlers/graphql.go:234 Message:Processing GraphQL Fields:map[Operations:[{"operationName":"DeviceHeartbeat","query":"mutation DeviceHeartbeat($id: ID!, $input: DeviceHeartbeatInput!) {\n  deviceHeartbeat(id: $id, input: $input)\n}","variables":{"id":"dev_33R5RI19uGaorvTdFHQQLn7SbwJ","input":{"presence":"inactive"}}}] request_id:e271cb81] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:27:07.255085[0m [34mTRC[0m [1mpkg/repository/user/repository.go:108[0m[36m >[0m [sql]: SELECT * FROM "users" WHERE id = $1 AND "users"."deleted_at" IS NULL LIMIT 1 [36mdb.operation=[0mselect [36mdb.rows=[0m1 [36mdb.table=[0musers [36mduration=[0m1.919703 [36mlocation=[0m["/app/pkg/repository/user/repository.go:108","/app/pkg/operations/user/userutils/userutils.go:28","/app/pkg/operations/auth/auth.go:133"] [36mrequest_id=[0me271cb81 [36mspan_id=[0meb5a31a5d1e736ad [36mtrace_id=[0mfabb30562f0e7e258def7a82c384bb4f Timestamp:Oct  6 20:27:07.255085 TRC Level: File:pkg/repository/user/repository.go:108 Message:[sql]: SELECT * FROM "users" WHERE id = $1 AND "users"."deleted_at" IS NULL LIMIT 1 Fields:map[db.operation:select db.rows:1 db.table:users duration:1.919703 location:["/app/pkg/repository/user/repository.go:108","/app/pkg/operations/user/userutils/userutils.go:28","/app/pkg/operations/auth/auth.go:133"] request_id:e271cb81 span_id:eb5a31a5d1e736ad trace_id:fabb30562f0e7e258def7a82c384bb4f] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:27:07.256334[0m DBG [1mpkg/handlers/graphql.go:258[0m[36m >[0m Processing GraphQL [36mgql.operationName=[0mDeviceHeartbeat [36mrequest_id=[0me271cb81 [36mvariables=[0m{"id":"dev_33R5RI19uGaorvTdFHQQLn7SbwJ","input":{"presence":"inactive"}}
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:27:07.256334[0m DBG [1mpkg/handlers/graphql.go:258[0m[36m >[0m Processing GraphQL [36mgql.operationName=[0mDeviceHeartbeat [36mrequest_id=[0me271cb81 [36mvariables=[0m{"id":"dev_33R5RI19uGaorvTdFHQQLn7SbwJ","input":{"presence":"inactive"}} Timestamp:Oct  6 20:27:07.256334 DBG Level: File:pkg/handlers/graphql.go:258 Message:Processing GraphQL Fields:map[gql.operationName:DeviceHeartbeat request_id:e271cb81 variables:{"id":"dev_33R5RI19uGaorvTdFHQQLn7SbwJ","input":{"presence":"inactive"}}] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:27:07.255713[0m DBG [1mpkg/handlers/graphql.go:234[0m[36m >[0m Processing GraphQL [36mOperations=[0m[{"operationName":"DeviceHeartbeat","query":"mutation DeviceHeartbeat($id: ID!, $input: DeviceHeartbeatInput!) {\n  deviceHeartbeat(id: $id, input: $input)\n}","variables":{"id":"dev_33R5RI19uGaorvTdFHQQLn7SbwJ","input":{"presence":"inactive"}}}] [36mrequest_id=[0me271cb81 Timestamp:Oct  6 20:27:07.255713 DBG Level: File:pkg/handlers/graphql.go:234 Message:Processing GraphQL Fields:map[Operations:[{"operationName":"DeviceHeartbeat","query":"mutation DeviceHeartbeat($id: ID!, $input: DeviceHeartbeatInput!) {\n  deviceHeartbeat(id: $id, input: $input)\n}","variables":{"id":"dev_33R5RI19uGaorvTdFHQQLn7SbwJ","input":{"presence":"inactive"}}}] request_id:e271cb81] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:27:07.272660[0m DBG [1mpkg/handlers/graphql.go:264[0m[36m >[0m Finished processing GraphQL [36mgql.operationName=[0mDeviceHeartbeat [36mrequest_id=[0me271cb81
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:27:07.272660[0m DBG [1mpkg/handlers/graphql.go:264[0m[36m >[0m Finished processing GraphQL [36mgql.operationName=[0mDeviceHeartbeat [36mrequest_id=[0me271cb81 Timestamp:Oct  6 20:27:07.272660 DBG Level: File:pkg/handlers/graphql.go:264 Message:Finished processing GraphQL Fields:map[gql.operationName:DeviceHeartbeat request_id:e271cb81] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:27:07.256334[0m DBG [1mpkg/handlers/graphql.go:258[0m[36m >[0m Processing GraphQL [36mgql.operationName=[0mDeviceHeartbeat [36mrequest_id=[0me271cb81 [36mvariables=[0m{"id":"dev_33R5RI19uGaorvTdFHQQLn7SbwJ","input":{"presence":"inactive"}} Timestamp:Oct  6 20:27:07.256334 DBG Level: File:pkg/handlers/graphql.go:258 Message:Processing GraphQL Fields:map[gql.operationName:DeviceHeartbeat request_id:e271cb81 variables:{"id":"dev_33R5RI19uGaorvTdFHQQLn7SbwJ","input":{"presence":"inactive"}}] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:27:07.272468[0m [34mTRC[0m [1mpkg/repository/device/repository.go:169[0m[36m >[0m [sql]: UPDATE "devices" SET "last_presence"=$1,"last_presence_at"=$2,"updated_at"=$3 WHERE user_id = $4 AND "devices"."deleted_at" IS NULL AND "id" = $5 [36mdb.operation=[0mupdate [36mdb.rows=[0m1 [36mdb.table=[0mdevices [36mduration=[0m14.239374 [36mlocation=[0m["/app/pkg/repository/device/repository.go:169","/app/pkg/graphql/resolvers/devices/mutations.go:70","/usr/local/go/src/reflect/value.go:581"] [36mrequest_id=[0me271cb81 [36mspan_id=[0mc11c08e62e62720f [36mtrace_id=[0mfabb30562f0e7e258def7a82c384bb4f
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:27:07.272468[0m [34mTRC[0m [1mpkg/repository/device/repository.go:169[0m[36m >[0m [sql]: UPDATE "devices" SET "last_presence"=$1,"last_presence_at"=$2,"updated_at"=$3 WHERE user_id = $4 AND "devices"."deleted_at" IS NULL AND "id" = $5 [36mdb.operation=[0mupdate [36mdb.rows=[0m1 [36mdb.table=[0mdevices [36mduration=[0m14.239374 [36mlocation=[0m["/app/pkg/repository/device/repository.go:169","/app/pkg/graphql/resolvers/devices/mutations.go:70","/usr/local/go/src/reflect/value.go:581"] [36mrequest_id=[0me271cb81 [36mspan_id=[0mc11c08e62e62720f [36mtrace_id=[0mfabb30562f0e7e258def7a82c384bb4f Timestamp:Oct  6 20:27:07.272468 TRC Level: File:pkg/repository/device/repository.go:169 Message:[sql]: UPDATE "devices" SET "last_presence"=$1,"last_presence_at"=$2,"updated_at"=$3 WHERE user_id = $4 AND "devices"."deleted_at" IS NULL AND "id" = $5 Fields:map[db.operation:update db.rows:1 db.table:devices duration:14.239374 location:["/app/pkg/repository/device/repository.go:169","/app/pkg/graphql/resolvers/devices/mutations.go:70","/usr/local/go/src/reflect/value.go:581"] request_id:e271cb81 span_id:c11c08e62e62720f trace_id:fabb30562f0e7e258def7a82c384bb4f] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:27:07.272660[0m DBG [1mpkg/handlers/graphql.go:264[0m[36m >[0m Finished processing GraphQL [36mgql.operationName=[0mDeviceHeartbeat [36mrequest_id=[0me271cb81 Timestamp:Oct  6 20:27:07.272660 DBG Level: File:pkg/handlers/graphql.go:264 Message:Finished processing GraphQL Fields:map[gql.operationName:DeviceHeartbeat request_id:e271cb81] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: 
container: 187a2420ba58 entry: &{Raw: Timestamp: Level: File: Message: Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:27:07.272468[0m [34mTRC[0m [1mpkg/repository/device/repository.go:169[0m[36m >[0m [sql]: UPDATE "devices" SET "last_presence"=$1,"last_presence_at"=$2,"updated_at"=$3 WHERE user_id = $4 AND "devices"."deleted_at" IS NULL AND "id" = $5 [36mdb.operation=[0mupdate [36mdb.rows=[0m1 [36mdb.table=[0mdevices [36mduration=[0m14.239374 [36mlocation=[0m["/app/pkg/repository/device/repository.go:169","/app/pkg/graphql/resolvers/devices/mutations.go:70","/usr/local/go/src/reflect/value.go:581"] [36mrequest_id=[0me271cb81 [36mspan_id=[0mc11c08e62e62720f [36mtrace_id=[0mfabb30562f0e7e258def7a82c384bb4f Timestamp:Oct  6 20:27:07.272468 TRC Level: File:pkg/repository/device/repository.go:169 Message:[sql]: UPDATE "devices" SET "last_presence"=$1,"last_presence_at"=$2,"updated_at"=$3 WHERE user_id = $4 AND "devices"."deleted_at" IS NULL AND "id" = $5 Fields:map[db.operation:update db.rows:1 db.table:devices duration:14.239374 location:["/app/pkg/repository/device/repository.go:169","/app/pkg/graphql/resolvers/devices/mutations.go:70","/usr/local/go/src/reflect/value.go:581"] request_id:e271cb81 span_id:c11c08e62e62720f trace_id:fabb30562f0e7e258def7a82c384bb4f] IsJSON:false JSONFields:map[]}
container:  187a2420ba58 lines:  27
container: 187a2420ba58 line: [90mOct  6 20:27:07.273631[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:27:07Z POST /graphql - 200 (59 bytes)[0m [36mip=[0m100.103.144.21 [36mlatency=[0m23.409346 [36mmethod=[0mPOST [36mpath=[0m/graphql [36mrequest_id=[0me271cb81 [36mstatus=[0m200 [36muser-agent=[0m"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Safari/605.1.15"
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:27:07.273631[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:27:07Z POST /graphql - 200 (59 bytes)[0m [36mip=[0m100.103.144.21 [36mlatency=[0m23.409346 [36mmethod=[0mPOST [36mpath=[0m/graphql [36mrequest_id=[0me271cb81 [36mstatus=[0m200 [36muser-agent=[0m"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Safari/605.1.15" Timestamp:Oct  6 20:27:07.273631 INF Level: File:pkg/observability/logging/logging.go:110 Message:2025-10-06T20:27:07Z POST /graphql - 200 (59 bytes) Fields:map[agent:Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Safari/605.1.15 ip:100.103.144.21 latency:23.409346 method:POST path:/graphql request_id:e271cb81 status:200] IsJSON:false JSONFields:map[]} previousLogEntry: <nil>
container: 187a2420ba58 line: [90mOct  6 20:28:40.753246[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcheckout.session.completed [36mrequest_id=[0m8df8ab5f [36mstripeID=[0mevt_1SFL1QCSZYH8WWmlDvFrMSZn
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:28:40.753246[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcheckout.session.completed [36mrequest_id=[0m8df8ab5f [36mstripeID=[0mevt_1SFL1QCSZYH8WWmlDvFrMSZn Timestamp:Oct  6 20:28:40.753246 INF Level: File:pkg/handlers/stripe.go:84 Message:received stripe event Fields:map[eventType:checkout.session.completed request_id:8df8ab5f stripeID:evt_1SFL1QCSZYH8WWmlDvFrMSZn] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:27:07.273631[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:27:07Z POST /graphql - 200 (59 bytes)[0m [36mip=[0m100.103.144.21 [36mlatency=[0m23.409346 [36mmethod=[0mPOST [36mpath=[0m/graphql [36mrequest_id=[0me271cb81 [36mstatus=[0m200 [36muser-agent=[0m"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Safari/605.1.15" Timestamp:Oct  6 20:27:07.273631 INF Level: File:pkg/observability/logging/logging.go:110 Message:2025-10-06T20:27:07Z POST /graphql - 200 (59 bytes) Fields:map[agent:Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Safari/605.1.15 ip:100.103.144.21 latency:23.409346 method:POST path:/graphql request_id:e271cb81 status:200] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:28:40.753245[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcustomer.created [36mrequest_id=[0m95054910 [36mstripeID=[0mevt_1SFL1QCSZYH8WWmlp4Qi6NW8
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:28:40.753245[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcustomer.created [36mrequest_id=[0m95054910 [36mstripeID=[0mevt_1SFL1QCSZYH8WWmlp4Qi6NW8 Timestamp:Oct  6 20:28:40.753245 INF Level: File:pkg/handlers/stripe.go:84 Message:received stripe event Fields:map[eventType:customer.created request_id:95054910 stripeID:evt_1SFL1QCSZYH8WWmlp4Qi6NW8] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:28:40.753246[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcheckout.session.completed [36mrequest_id=[0m8df8ab5f [36mstripeID=[0mevt_1SFL1QCSZYH8WWmlDvFrMSZn Timestamp:Oct  6 20:28:40.753246 INF Level: File:pkg/handlers/stripe.go:84 Message:received stripe event Fields:map[eventType:checkout.session.completed request_id:8df8ab5f stripeID:evt_1SFL1QCSZYH8WWmlDvFrMSZn] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:28:40.758725[0m [34mTRC[0m [1mpkg/repository/workspacesubscription/repository.go:81[0m[36m >[0m [sql]: SELECT * FROM "workspace_subscriptions" WHERE stripe_customer->>'id' = $1 AND "workspace_subscriptions"."deleted_at" IS NULL [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspace_subscriptions [36mduration=[0m2.227494 [36mlocation=[0m["/app/pkg/repository/workspacesubscription/repository.go:81","/app/pkg/handlers/stripe.go:126","/app/pkg/handlers/stripe.go:217"] [36mrequest_id=[0m95054910 [36mspan_id=[0me9ae653ee3dc9da0 [36mtrace_id=[0mceba24135449c33ba3a9c33618a6bf29
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:28:40.758725[0m [34mTRC[0m [1mpkg/repository/workspacesubscription/repository.go:81[0m[36m >[0m [sql]: SELECT * FROM "workspace_subscriptions" WHERE stripe_customer->>'id' = $1 AND "workspace_subscriptions"."deleted_at" IS NULL [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspace_subscriptions [36mduration=[0m2.227494 [36mlocation=[0m["/app/pkg/repository/workspacesubscription/repository.go:81","/app/pkg/handlers/stripe.go:126","/app/pkg/handlers/stripe.go:217"] [36mrequest_id=[0m95054910 [36mspan_id=[0me9ae653ee3dc9da0 [36mtrace_id=[0mceba24135449c33ba3a9c33618a6bf29 Timestamp:Oct  6 20:28:40.758725 TRC Level: File:pkg/repository/workspacesubscription/repository.go:81 Message:[sql]: SELECT * FROM "workspace_subscriptions" WHERE stripe_customer->>'id' = $1 AND "workspace_subscriptions"."deleted_at" IS NULL Fields:map[db.operation:select db.rows:0 db.table:workspace_subscriptions duration:2.227494 location:["/app/pkg/repository/workspacesubscription/repository.go:81","/app/pkg/handlers/stripe.go:126","/app/pkg/handlers/stripe.go:217"] request_id:95054910 span_id:e9ae653ee3dc9da0 trace_id:ceba24135449c33ba3a9c33618a6bf29] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:28:40.753245[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcustomer.created [36mrequest_id=[0m95054910 [36mstripeID=[0mevt_1SFL1QCSZYH8WWmlp4Qi6NW8 Timestamp:Oct  6 20:28:40.753245 INF Level: File:pkg/handlers/stripe.go:84 Message:received stripe event Fields:map[eventType:customer.created request_id:95054910 stripeID:evt_1SFL1QCSZYH8WWmlp4Qi6NW8] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:28:40.759725[0m [34mTRC[0m [1mpkg/repository/workspace/repository.go:145[0m[36m >[0m [sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 [36mdb.error=[0m"record not found" [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspaces [36mduration=[0m3.024533 [36mlocation=[0m["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:202"] [36mrequest_id=[0m8df8ab5f [36mspan_id=[0mb89b91c834a7e4fd [36mtrace_id=[0ma2172bce38d26c36040c2505d5cf0a90
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:28:40.759725[0m [34mTRC[0m [1mpkg/repository/workspace/repository.go:145[0m[36m >[0m [sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 [36mdb.error=[0m"record not found" [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspaces [36mduration=[0m3.024533 [36mlocation=[0m["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:202"] [36mrequest_id=[0m8df8ab5f [36mspan_id=[0mb89b91c834a7e4fd [36mtrace_id=[0ma2172bce38d26c36040c2505d5cf0a90 Timestamp:Oct  6 20:28:40.759725 TRC Level: File:pkg/repository/workspace/repository.go:145 Message:[sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 Fields:map[db.error:record not found db.operation:select db.rows:0 db.table:workspaces duration:3.024533 location:["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:202"] request_id:8df8ab5f span_id:b89b91c834a7e4fd trace_id:a2172bce38d26c36040c2505d5cf0a90] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:28:40.758725[0m [34mTRC[0m [1mpkg/repository/workspacesubscription/repository.go:81[0m[36m >[0m [sql]: SELECT * FROM "workspace_subscriptions" WHERE stripe_customer->>'id' = $1 AND "workspace_subscriptions"."deleted_at" IS NULL [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspace_subscriptions [36mduration=[0m2.227494 [36mlocation=[0m["/app/pkg/repository/workspacesubscription/repository.go:81","/app/pkg/handlers/stripe.go:126","/app/pkg/handlers/stripe.go:217"] [36mrequest_id=[0m95054910 [36mspan_id=[0me9ae653ee3dc9da0 [36mtrace_id=[0mceba24135449c33ba3a9c33618a6bf29 Timestamp:Oct  6 20:28:40.758725 TRC Level: File:pkg/repository/workspacesubscription/repository.go:81 Message:[sql]: SELECT * FROM "workspace_subscriptions" WHERE stripe_customer->>'id' = $1 AND "workspace_subscriptions"."deleted_at" IS NULL Fields:map[db.operation:select db.rows:0 db.table:workspace_subscriptions duration:2.227494 location:["/app/pkg/repository/workspacesubscription/repository.go:81","/app/pkg/handlers/stripe.go:126","/app/pkg/handlers/stripe.go:217"] request_id:95054910 span_id:e9ae653ee3dc9da0 trace_id:ceba24135449c33ba3a9c33618a6bf29] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: 
container: 187a2420ba58 entry: &{Raw: Timestamp: Level: File: Message: Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:28:40.759725[0m [34mTRC[0m [1mpkg/repository/workspace/repository.go:145[0m[36m >[0m [sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 [36mdb.error=[0m"record not found" [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspaces [36mduration=[0m3.024533 [36mlocation=[0m["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:202"] [36mrequest_id=[0m8df8ab5f [36mspan_id=[0mb89b91c834a7e4fd [36mtrace_id=[0ma2172bce38d26c36040c2505d5cf0a90 Timestamp:Oct  6 20:28:40.759725 TRC Level: File:pkg/repository/workspace/repository.go:145 Message:[sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 Fields:map[db.error:record not found db.operation:select db.rows:0 db.table:workspaces duration:3.024533 location:["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:202"] request_id:8df8ab5f span_id:b89b91c834a7e4fd trace_id:a2172bce38d26c36040c2505d5cf0a90] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: 2025/10/06 20:28:40 [31;1m/app/pkg/repository/workspace/repository.go:145 [35;1mrecord not found
container: 187a2420ba58 entry: &{Raw:2025/10/06 20:28:40 [31;1m/app/pkg/repository/workspace/repository.go:145 [35;1mrecord not found Timestamp:2025/10/06 20:28:40 Level: File:/app/pkg/repository/workspace/repository.go:145 Message:record not found Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:28:40.759725[0m [34mTRC[0m [1mpkg/repository/workspace/repository.go:145[0m[36m >[0m [sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 [36mdb.error=[0m"record not found" [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspaces [36mduration=[0m3.024533 [36mlocation=[0m["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:202"] [36mrequest_id=[0m8df8ab5f [36mspan_id=[0mb89b91c834a7e4fd [36mtrace_id=[0ma2172bce38d26c36040c2505d5cf0a90
container: 187a2420ba58 line: [0m[33m[3.159ms] [34;1m[rows:0][0m SELECT * FROM "workspaces" WHERE id = '33hwDSBvq7poxrTmUuNL48UYFlx' AND "workspaces"."deleted_at" IS NULL LIMIT 1
container: 187a2420ba58 entry: &{Raw:[0m[33m[3.159ms] [34;1m[rows:0][0m SELECT * FROM "workspaces" WHERE id = '33hwDSBvq7poxrTmUuNL48UYFlx' AND "workspaces"."deleted_at" IS NULL LIMIT 1 Timestamp: Level: File: Message:[3.159ms] [rows:0] SELECT * FROM "workspaces" WHERE id = '33hwDSBvq7poxrTmUuNL48UYFlx' AND "workspaces"."deleted_at" IS NULL LIMIT 1 Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:2025/10/06 20:28:40 [31;1m/app/pkg/repository/workspace/repository.go:145 [35;1mrecord not found Timestamp:2025/10/06 20:28:40 Level: File:/app/pkg/repository/workspace/repository.go:145 Message:record not found Fields:map[] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:28:40.762363[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:28:40Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m3.18.12.63 [36mlatency=[0m31.698404 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0m8df8ab5f [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)"
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:28:40.762363[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:28:40Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m3.18.12.63 [36mlatency=[0m31.698404 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0m8df8ab5f [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)" Timestamp:Oct  6 20:28:40.762363 INF Level: File:pkg/observability/logging/logging.go:110 Message:2025-10-06T20:28:40Z POST /stripe/webhook - 200 (26 bytes) Fields:map[agent:Stripe/1.0 (+https://stripe.com/docs/webhooks) ip:3.18.12.63 latency:31.698404 method:POST path:/stripe/webhook request_id:8df8ab5f status:200] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:2025/10/06 20:28:40 [31;1m/app/pkg/repository/workspace/repository.go:145 [35;1mrecord not found
container: 187a2420ba58 line: [90mOct  6 20:28:40.762361[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:28:40Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m3.18.12.63 [36mlatency=[0m31.224614 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0m95054910 [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)"
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:28:40.762361[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:28:40Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m3.18.12.63 [36mlatency=[0m31.224614 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0m95054910 [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)" Timestamp:Oct  6 20:28:40.762361 INF Level: File:pkg/observability/logging/logging.go:110 Message:2025-10-06T20:28:40Z POST /stripe/webhook - 200 (26 bytes) Fields:map[agent:Stripe/1.0 (+https://stripe.com/docs/webhooks) ip:3.18.12.63 latency:31.224614 method:POST path:/stripe/webhook request_id:95054910 status:200] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:28:40.762363[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:28:40Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m3.18.12.63 [36mlatency=[0m31.698404 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0m8df8ab5f [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)" Timestamp:Oct  6 20:28:40.762363 INF Level: File:pkg/observability/logging/logging.go:110 Message:2025-10-06T20:28:40Z POST /stripe/webhook - 200 (26 bytes) Fields:map[agent:Stripe/1.0 (+https://stripe.com/docs/webhooks) ip:3.18.12.63 latency:31.698404 method:POST path:/stripe/webhook request_id:8df8ab5f status:200] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:28:40.900860[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 935 bytes for traces/stripe/evt_1SFL1QCSZYH8WWmlp4Qi6NW8[0m [36mrequest_id=[0m95054910
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:28:40.900860[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 935 bytes for traces/stripe/evt_1SFL1QCSZYH8WWmlp4Qi6NW8[0m [36mrequest_id=[0m95054910 Timestamp:Oct  6 20:28:40.900860 INF Level: File:pkg/traces/trace_service.go:221 Message:Successfully saved 935 bytes for traces/stripe/evt_1SFL1QCSZYH8WWmlp4Qi6NW8 Fields:map[request_id:95054910] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:28:40.762361[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:28:40Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m3.18.12.63 [36mlatency=[0m31.224614 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0m95054910 [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)" Timestamp:Oct  6 20:28:40.762361 INF Level: File:pkg/observability/logging/logging.go:110 Message:2025-10-06T20:28:40Z POST /stripe/webhook - 200 (26 bytes) Fields:map[agent:Stripe/1.0 (+https://stripe.com/docs/webhooks) ip:3.18.12.63 latency:31.224614 method:POST path:/stripe/webhook request_id:95054910 status:200] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:28:40.946095[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 2957 bytes for traces/stripe/evt_1SFL1QCSZYH8WWmlDvFrMSZn[0m [36mrequest_id=[0m8df8ab5f
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:28:40.946095[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 2957 bytes for traces/stripe/evt_1SFL1QCSZYH8WWmlDvFrMSZn[0m [36mrequest_id=[0m8df8ab5f Timestamp:Oct  6 20:28:40.946095 INF Level: File:pkg/traces/trace_service.go:221 Message:Successfully saved 2957 bytes for traces/stripe/evt_1SFL1QCSZYH8WWmlDvFrMSZn Fields:map[request_id:8df8ab5f] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:28:40.900860[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 935 bytes for traces/stripe/evt_1SFL1QCSZYH8WWmlp4Qi6NW8[0m [36mrequest_id=[0m95054910 Timestamp:Oct  6 20:28:40.900860 INF Level: File:pkg/traces/trace_service.go:221 Message:Successfully saved 935 bytes for traces/stripe/evt_1SFL1QCSZYH8WWmlp4Qi6NW8 Fields:map[request_id:95054910] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:28:41.525066[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcustomer.updated [36mrequest_id=[0md0c3a551 [36mstripeID=[0mevt_1SFL1RCSZYH8WWmlWPvsjR2g
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:28:41.525066[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcustomer.updated [36mrequest_id=[0md0c3a551 [36mstripeID=[0mevt_1SFL1RCSZYH8WWmlWPvsjR2g Timestamp:Oct  6 20:28:41.525066 INF Level: File:pkg/handlers/stripe.go:84 Message:received stripe event Fields:map[eventType:customer.updated request_id:d0c3a551 stripeID:evt_1SFL1RCSZYH8WWmlWPvsjR2g] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:28:40.946095[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 2957 bytes for traces/stripe/evt_1SFL1QCSZYH8WWmlDvFrMSZn[0m [36mrequest_id=[0m8df8ab5f Timestamp:Oct  6 20:28:40.946095 INF Level: File:pkg/traces/trace_service.go:221 Message:Successfully saved 2957 bytes for traces/stripe/evt_1SFL1QCSZYH8WWmlDvFrMSZn Fields:map[request_id:8df8ab5f] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:28:41.530019[0m [34mTRC[0m [1mpkg/repository/workspacesubscription/repository.go:81[0m[36m >[0m [sql]: SELECT * FROM "workspace_subscriptions" WHERE stripe_customer->>'id' = $1 AND "workspace_subscriptions"."deleted_at" IS NULL [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspace_subscriptions [36mduration=[0m4.355404 [36mlocation=[0m["/app/pkg/repository/workspacesubscription/repository.go:81","/app/pkg/handlers/stripe.go:126","/app/pkg/handlers/stripe.go:217"] [36mrequest_id=[0md0c3a551 [36mspan_id=[0mcfc4faf98d1596bf [36mtrace_id=[0m3e3bfbbcdd3761b6328ada86e829e94f
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:28:41.530019[0m [34mTRC[0m [1mpkg/repository/workspacesubscription/repository.go:81[0m[36m >[0m [sql]: SELECT * FROM "workspace_subscriptions" WHERE stripe_customer->>'id' = $1 AND "workspace_subscriptions"."deleted_at" IS NULL [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspace_subscriptions [36mduration=[0m4.355404 [36mlocation=[0m["/app/pkg/repository/workspacesubscription/repository.go:81","/app/pkg/handlers/stripe.go:126","/app/pkg/handlers/stripe.go:217"] [36mrequest_id=[0md0c3a551 [36mspan_id=[0mcfc4faf98d1596bf [36mtrace_id=[0m3e3bfbbcdd3761b6328ada86e829e94f Timestamp:Oct  6 20:28:41.530019 TRC Level: File:pkg/repository/workspacesubscription/repository.go:81 Message:[sql]: SELECT * FROM "workspace_subscriptions" WHERE stripe_customer->>'id' = $1 AND "workspace_subscriptions"."deleted_at" IS NULL Fields:map[db.operation:select db.rows:0 db.table:workspace_subscriptions duration:4.355404 location:["/app/pkg/repository/workspacesubscription/repository.go:81","/app/pkg/handlers/stripe.go:126","/app/pkg/handlers/stripe.go:217"] request_id:d0c3a551 span_id:cfc4faf98d1596bf trace_id:3e3bfbbcdd3761b6328ada86e829e94f] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:28:41.525066[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcustomer.updated [36mrequest_id=[0md0c3a551 [36mstripeID=[0mevt_1SFL1RCSZYH8WWmlWPvsjR2g Timestamp:Oct  6 20:28:41.525066 INF Level: File:pkg/handlers/stripe.go:84 Message:received stripe event Fields:map[eventType:customer.updated request_id:d0c3a551 stripeID:evt_1SFL1RCSZYH8WWmlWPvsjR2g] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:28:41.531854[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:28:41Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m3.18.12.63 [36mlatency=[0m7.836518 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0md0c3a551 [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)"
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:28:41.531854[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:28:41Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m3.18.12.63 [36mlatency=[0m7.836518 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0md0c3a551 [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)" Timestamp:Oct  6 20:28:41.531854 INF Level: File:pkg/observability/logging/logging.go:110 Message:2025-10-06T20:28:41Z POST /stripe/webhook - 200 (26 bytes) Fields:map[agent:Stripe/1.0 (+https://stripe.com/docs/webhooks) ip:3.18.12.63 latency:7.836518 method:POST path:/stripe/webhook request_id:d0c3a551 status:200] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:28:41.530019[0m [34mTRC[0m [1mpkg/repository/workspacesubscription/repository.go:81[0m[36m >[0m [sql]: SELECT * FROM "workspace_subscriptions" WHERE stripe_customer->>'id' = $1 AND "workspace_subscriptions"."deleted_at" IS NULL [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspace_subscriptions [36mduration=[0m4.355404 [36mlocation=[0m["/app/pkg/repository/workspacesubscription/repository.go:81","/app/pkg/handlers/stripe.go:126","/app/pkg/handlers/stripe.go:217"] [36mrequest_id=[0md0c3a551 [36mspan_id=[0mcfc4faf98d1596bf [36mtrace_id=[0m3e3bfbbcdd3761b6328ada86e829e94f Timestamp:Oct  6 20:28:41.530019 TRC Level: File:pkg/repository/workspacesubscription/repository.go:81 Message:[sql]: SELECT * FROM "workspace_subscriptions" WHERE stripe_customer->>'id' = $1 AND "workspace_subscriptions"."deleted_at" IS NULL Fields:map[db.operation:select db.rows:0 db.table:workspace_subscriptions duration:4.355404 location:["/app/pkg/repository/workspacesubscription/repository.go:81","/app/pkg/handlers/stripe.go:126","/app/pkg/handlers/stripe.go:217"] request_id:d0c3a551 span_id:cfc4faf98d1596bf trace_id:3e3bfbbcdd3761b6328ada86e829e94f] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:28:41.582134[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 949 bytes for traces/stripe/evt_1SFL1RCSZYH8WWmlWPvsjR2g[0m [36mrequest_id=[0md0c3a551
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:28:41.582134[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 949 bytes for traces/stripe/evt_1SFL1RCSZYH8WWmlWPvsjR2g[0m [36mrequest_id=[0md0c3a551 Timestamp:Oct  6 20:28:41.582134 INF Level: File:pkg/traces/trace_service.go:221 Message:Successfully saved 949 bytes for traces/stripe/evt_1SFL1RCSZYH8WWmlWPvsjR2g Fields:map[request_id:d0c3a551] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:28:41.531854[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:28:41Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m3.18.12.63 [36mlatency=[0m7.836518 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0md0c3a551 [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)" Timestamp:Oct  6 20:28:41.531854 INF Level: File:pkg/observability/logging/logging.go:110 Message:2025-10-06T20:28:41Z POST /stripe/webhook - 200 (26 bytes) Fields:map[agent:Stripe/1.0 (+https://stripe.com/docs/webhooks) ip:3.18.12.63 latency:7.836518 method:POST path:/stripe/webhook request_id:d0c3a551 status:200] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:28:42.488312[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0minvoice.paid [36mrequest_id=[0m21606e22 [36mstripeID=[0mevt_1SFL1RCSZYH8WWmlfgHXZ9BV
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:28:42.488312[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0minvoice.paid [36mrequest_id=[0m21606e22 [36mstripeID=[0mevt_1SFL1RCSZYH8WWmlfgHXZ9BV Timestamp:Oct  6 20:28:42.488312 INF Level: File:pkg/handlers/stripe.go:84 Message:received stripe event Fields:map[eventType:invoice.paid request_id:21606e22 stripeID:evt_1SFL1RCSZYH8WWmlfgHXZ9BV] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:28:41.582134[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 949 bytes for traces/stripe/evt_1SFL1RCSZYH8WWmlWPvsjR2g[0m [36mrequest_id=[0md0c3a551 Timestamp:Oct  6 20:28:41.582134 INF Level: File:pkg/traces/trace_service.go:221 Message:Successfully saved 949 bytes for traces/stripe/evt_1SFL1RCSZYH8WWmlWPvsjR2g Fields:map[request_id:d0c3a551] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:28:42.495084[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:28:42Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m52.15.183.38 [36mlatency=[0m8.841223 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0m21606e22 [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)"
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:28:42.495084[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:28:42Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m52.15.183.38 [36mlatency=[0m8.841223 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0m21606e22 [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)" Timestamp:Oct  6 20:28:42.495084 INF Level: File:pkg/observability/logging/logging.go:110 Message:2025-10-06T20:28:42Z POST /stripe/webhook - 200 (26 bytes) Fields:map[agent:Stripe/1.0 (+https://stripe.com/docs/webhooks) ip:52.15.183.38 latency:8.841223 method:POST path:/stripe/webhook request_id:21606e22 status:200] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:28:42.488312[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0minvoice.paid [36mrequest_id=[0m21606e22 [36mstripeID=[0mevt_1SFL1RCSZYH8WWmlfgHXZ9BV Timestamp:Oct  6 20:28:42.488312 INF Level: File:pkg/handlers/stripe.go:84 Message:received stripe event Fields:map[eventType:invoice.paid request_id:21606e22 stripeID:evt_1SFL1RCSZYH8WWmlfgHXZ9BV] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:28:42.554558[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 5479 bytes for traces/stripe/evt_1SFL1RCSZYH8WWmlfgHXZ9BV[0m [36mrequest_id=[0m21606e22
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:28:42.554558[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 5479 bytes for traces/stripe/evt_1SFL1RCSZYH8WWmlfgHXZ9BV[0m [36mrequest_id=[0m21606e22 Timestamp:Oct  6 20:28:42.554558 INF Level: File:pkg/traces/trace_service.go:221 Message:Successfully saved 5479 bytes for traces/stripe/evt_1SFL1RCSZYH8WWmlfgHXZ9BV Fields:map[request_id:21606e22] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:28:42.495084[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:28:42Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m52.15.183.38 [36mlatency=[0m8.841223 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0m21606e22 [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)" Timestamp:Oct  6 20:28:42.495084 INF Level: File:pkg/observability/logging/logging.go:110 Message:2025-10-06T20:28:42Z POST /stripe/webhook - 200 (26 bytes) Fields:map[agent:Stripe/1.0 (+https://stripe.com/docs/webhooks) ip:52.15.183.38 latency:8.841223 method:POST path:/stripe/webhook request_id:21606e22 status:200] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:28:42.692504[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcustomer.subscription.created [36mrequest_id=[0m1543162a [36mstripeID=[0mevt_1SFL1SCSZYH8WWmlxPiJcSwb
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:28:42.692504[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcustomer.subscription.created [36mrequest_id=[0m1543162a [36mstripeID=[0mevt_1SFL1SCSZYH8WWmlxPiJcSwb Timestamp:Oct  6 20:28:42.692504 INF Level: File:pkg/handlers/stripe.go:84 Message:received stripe event Fields:map[eventType:customer.subscription.created request_id:1543162a stripeID:evt_1SFL1SCSZYH8WWmlxPiJcSwb] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:28:42.554558[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 5479 bytes for traces/stripe/evt_1SFL1RCSZYH8WWmlfgHXZ9BV[0m [36mrequest_id=[0m21606e22 Timestamp:Oct  6 20:28:42.554558 INF Level: File:pkg/traces/trace_service.go:221 Message:Successfully saved 5479 bytes for traces/stripe/evt_1SFL1RCSZYH8WWmlfgHXZ9BV Fields:map[request_id:21606e22] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: 
container: 187a2420ba58 entry: &{Raw: Timestamp: Level: File: Message: Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:28:42.692504[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcustomer.subscription.created [36mrequest_id=[0m1543162a [36mstripeID=[0mevt_1SFL1SCSZYH8WWmlxPiJcSwb Timestamp:Oct  6 20:28:42.692504 INF Level: File:pkg/handlers/stripe.go:84 Message:received stripe event Fields:map[eventType:customer.subscription.created request_id:1543162a stripeID:evt_1SFL1SCSZYH8WWmlxPiJcSwb] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: 2025/10/06 20:28:42 [31;1m/app/pkg/repository/workspace/repository.go:145 [35;1mrecord not found
container: 187a2420ba58 entry: &{Raw:2025/10/06 20:28:42 [31;1m/app/pkg/repository/workspace/repository.go:145 [35;1mrecord not found Timestamp:2025/10/06 20:28:42 Level: File:/app/pkg/repository/workspace/repository.go:145 Message:record not found Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:28:42.692504[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcustomer.subscription.created [36mrequest_id=[0m1543162a [36mstripeID=[0mevt_1SFL1SCSZYH8WWmlxPiJcSwb
container: 187a2420ba58 line: [0m[33m[2.616ms] [34;1m[rows:0][0m SELECT * FROM "workspaces" WHERE id = '33hwDSBvq7poxrTmUuNL48UYFlx' AND "workspaces"."deleted_at" IS NULL LIMIT 1
container: 187a2420ba58 entry: &{Raw:[0m[33m[2.616ms] [34;1m[rows:0][0m SELECT * FROM "workspaces" WHERE id = '33hwDSBvq7poxrTmUuNL48UYFlx' AND "workspaces"."deleted_at" IS NULL LIMIT 1 Timestamp: Level: File: Message:[2.616ms] [rows:0] SELECT * FROM "workspaces" WHERE id = '33hwDSBvq7poxrTmUuNL48UYFlx' AND "workspaces"."deleted_at" IS NULL LIMIT 1 Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:2025/10/06 20:28:42 [31;1m/app/pkg/repository/workspace/repository.go:145 [35;1mrecord not found Timestamp:2025/10/06 20:28:42 Level: File:/app/pkg/repository/workspace/repository.go:145 Message:record not found Fields:map[] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:28:42.697452[0m [34mTRC[0m [1mpkg/repository/workspace/repository.go:145[0m[36m >[0m [sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 [36mdb.error=[0m"record not found" [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspaces [36mduration=[0m2.217494 [36mlocation=[0m["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:257"] [36mrequest_id=[0m1543162a [36mspan_id=[0mdb969a963226a072 [36mtrace_id=[0m81becc8595d58eb86634bcc01d6a6154
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:28:42.697452[0m [34mTRC[0m [1mpkg/repository/workspace/repository.go:145[0m[36m >[0m [sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 [36mdb.error=[0m"record not found" [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspaces [36mduration=[0m2.217494 [36mlocation=[0m["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:257"] [36mrequest_id=[0m1543162a [36mspan_id=[0mdb969a963226a072 [36mtrace_id=[0m81becc8595d58eb86634bcc01d6a6154 Timestamp:Oct  6 20:28:42.697452 TRC Level: File:pkg/repository/workspace/repository.go:145 Message:[sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 Fields:map[db.error:record not found db.operation:select db.rows:0 db.table:workspaces duration:2.217494 location:["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:257"] request_id:1543162a span_id:db969a963226a072 trace_id:81becc8595d58eb86634bcc01d6a6154] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:2025/10/06 20:28:42 [31;1m/app/pkg/repository/workspace/repository.go:145 [35;1mrecord not found
container: 187a2420ba58 line: [90mOct  6 20:28:42.702858[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:28:42Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m3.18.12.63 [36mlatency=[0m12.162338 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0m1543162a [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)"
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:28:42.702858[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:28:42Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m3.18.12.63 [36mlatency=[0m12.162338 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0m1543162a [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)" Timestamp:Oct  6 20:28:42.702858 INF Level: File:pkg/observability/logging/logging.go:110 Message:2025-10-06T20:28:42Z POST /stripe/webhook - 200 (26 bytes) Fields:map[agent:Stripe/1.0 (+https://stripe.com/docs/webhooks) ip:3.18.12.63 latency:12.162338 method:POST path:/stripe/webhook request_id:1543162a status:200] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:28:42.697452[0m [34mTRC[0m [1mpkg/repository/workspace/repository.go:145[0m[36m >[0m [sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 [36mdb.error=[0m"record not found" [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspaces [36mduration=[0m2.217494 [36mlocation=[0m["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:257"] [36mrequest_id=[0m1543162a [36mspan_id=[0mdb969a963226a072 [36mtrace_id=[0m81becc8595d58eb86634bcc01d6a6154 Timestamp:Oct  6 20:28:42.697452 TRC Level: File:pkg/repository/workspace/repository.go:145 Message:[sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 Fields:map[db.error:record not found db.operation:select db.rows:0 db.table:workspaces duration:2.217494 location:["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:257"] request_id:1543162a span_id:db969a963226a072 trace_id:81becc8595d58eb86634bcc01d6a6154] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [90mOct  6 20:28:42.736358[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 3816 bytes for traces/stripe/evt_1SFL1SCSZYH8WWmlxPiJcSwb[0m [36mrequest_id=[0m1543162a
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:28:42.736358[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 3816 bytes for traces/stripe/evt_1SFL1SCSZYH8WWmlxPiJcSwb[0m [36mrequest_id=[0m1543162a Timestamp:Oct  6 20:28:42.736358 INF Level: File:pkg/traces/trace_service.go:221 Message:Successfully saved 3816 bytes for traces/stripe/evt_1SFL1SCSZYH8WWmlxPiJcSwb Fields:map[request_id:1543162a] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:28:42.702858[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:28:42Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m3.18.12.63 [36mlatency=[0m12.162338 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0m1543162a [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)" Timestamp:Oct  6 20:28:42.702858 INF Level: File:pkg/observability/logging/logging.go:110 Message:2025-10-06T20:28:42Z POST /stripe/webhook - 200 (26 bytes) Fields:map[agent:Stripe/1.0 (+https://stripe.com/docs/webhooks) ip:3.18.12.63 latency:12.162338 method:POST path:/stripe/webhook request_id:1543162a status:200] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: 
container: 187a2420ba58 entry: &{Raw: Timestamp: Level: File: Message: Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:28:42.736358[0m [32mINF[0m [1mpkg/traces/trace_service.go:221[0m[36m >[0m [1mSuccessfully saved 3816 bytes for traces/stripe/evt_1SFL1SCSZYH8WWmlxPiJcSwb[0m [36mrequest_id=[0m1543162a Timestamp:Oct  6 20:28:42.736358 INF Level: File:pkg/traces/trace_service.go:221 Message:Successfully saved 3816 bytes for traces/stripe/evt_1SFL1SCSZYH8WWmlxPiJcSwb Fields:map[request_id:1543162a] IsJSON:false JSONFields:map[]}
container:  187a2420ba58 lines:  2
container: 187a2420ba58 line: [90mOct  6 20:30:44.362277[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcustomer.subscription.deleted [36mrequest_id=[0m119e6c46 [36mstripeID=[0mevt_1SFL3PCSZYH8WWml5e5dQde8
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:30:44.362277[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcustomer.subscription.deleted [36mrequest_id=[0m119e6c46 [36mstripeID=[0mevt_1SFL3PCSZYH8WWml5e5dQde8 Timestamp:Oct  6 20:30:44.362277 INF Level: File:pkg/handlers/stripe.go:84 Message:received stripe event Fields:map[eventType:customer.subscription.deleted request_id:119e6c46 stripeID:evt_1SFL3PCSZYH8WWml5e5dQde8] IsJSON:false JSONFields:map[]} previousLogEntry: <nil>
container: 187a2420ba58 line: 
container: 187a2420ba58 entry: &{Raw: Timestamp: Level: File: Message: Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:30:44.362277[0m [32mINF[0m [1mpkg/handlers/stripe.go:84[0m[36m >[0m [1mreceived stripe event[0m [36meventType=[0mcustomer.subscription.deleted [36mrequest_id=[0m119e6c46 [36mstripeID=[0mevt_1SFL3PCSZYH8WWml5e5dQde8 Timestamp:Oct  6 20:30:44.362277 INF Level: File:pkg/handlers/stripe.go:84 Message:received stripe event Fields:map[eventType:customer.subscription.deleted request_id:119e6c46 stripeID:evt_1SFL3PCSZYH8WWml5e5dQde8] IsJSON:false JSONFields:map[]}
container:  187a2420ba58 lines:  4
container: 187a2420ba58 line: 
container: 187a2420ba58 entry: &{Raw: Timestamp: Level: File: Message: Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: <nil>
container: 187a2420ba58 line: 2025/10/06 20:30:44 [31;1m/app/pkg/repository/workspace/repository.go:145 [35;1mrecord not found
container: 187a2420ba58 entry: &{Raw:2025/10/06 20:30:44 [31;1m/app/pkg/repository/workspace/repository.go:145 [35;1mrecord not found Timestamp:2025/10/06 20:30:44 Level: File:/app/pkg/repository/workspace/repository.go:145 Message:record not found Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw: Timestamp: Level: File: Message: Fields:map[] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: [0m[33m[6.362ms] [34;1m[rows:0][0m SELECT * FROM "workspaces" WHERE id = '33hvxVXaX9ObW9fx0cMkQTMRj37' AND "workspaces"."deleted_at" IS NULL LIMIT 1
container: 187a2420ba58 entry: &{Raw:[0m[33m[6.362ms] [34;1m[rows:0][0m SELECT * FROM "workspaces" WHERE id = '33hvxVXaX9ObW9fx0cMkQTMRj37' AND "workspaces"."deleted_at" IS NULL LIMIT 1 Timestamp: Level: File: Message:[6.362ms] [rows:0] SELECT * FROM "workspaces" WHERE id = '33hvxVXaX9ObW9fx0cMkQTMRj37' AND "workspaces"."deleted_at" IS NULL LIMIT 1 Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:2025/10/06 20:30:44 [31;1m/app/pkg/repository/workspace/repository.go:145 [35;1mrecord not found Timestamp:2025/10/06 20:30:44 Level: File:/app/pkg/repository/workspace/repository.go:145 Message:record not found Fields:map[] IsJSON:false JSONFields:map[]}
container: 187a2420ba58 line: 
container: 187a2420ba58 entry: &{Raw: Timestamp: Level: File: Message: Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:2025/10/06 20:30:44 [31;1m/app/pkg/repository/workspace/repository.go:145 [35;1mrecord not found
container:  187a2420ba58 lines:  2
container: 187a2420ba58 line: [90mOct  6 20:30:44.378535[0m [34mTRC[0m [1mpkg/repository/workspace/repository.go:145[0m[36m >[0m [sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 [36mdb.error=[0m"record not found" [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspaces [36mduration=[0m5.891482 [36mlocation=[0m["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:314"] [36mrequest_id=[0m119e6c46 [36mspan_id=[0md7a8a8680353e594 [36mtrace_id=[0m86be1e9b381d85efcc47612135a78a9a
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:30:44.378535[0m [34mTRC[0m [1mpkg/repository/workspace/repository.go:145[0m[36m >[0m [sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 [36mdb.error=[0m"record not found" [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspaces [36mduration=[0m5.891482 [36mlocation=[0m["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:314"] [36mrequest_id=[0m119e6c46 [36mspan_id=[0md7a8a8680353e594 [36mtrace_id=[0m86be1e9b381d85efcc47612135a78a9a Timestamp:Oct  6 20:30:44.378535 TRC Level: File:pkg/repository/workspace/repository.go:145 Message:[sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 Fields:map[db.error:record not found db.operation:select db.rows:0 db.table:workspaces duration:5.891482 location:["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:314"] request_id:119e6c46 span_id:d7a8a8680353e594 trace_id:86be1e9b381d85efcc47612135a78a9a] IsJSON:false JSONFields:map[]} previousLogEntry: <nil>
container: 187a2420ba58 line: 
container: 187a2420ba58 entry: &{Raw: Timestamp: Level: File: Message: Fields:map[] IsJSON:false JSONFields:map[]} previousLogEntry: &{Raw:[90mOct  6 20:30:44.378535[0m [34mTRC[0m [1mpkg/repository/workspace/repository.go:145[0m[36m >[0m [sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 [36mdb.error=[0m"record not found" [36mdb.operation=[0mselect [36mdb.rows=[0m0 [36mdb.table=[0mworkspaces [36mduration=[0m5.891482 [36mlocation=[0m["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:314"] [36mrequest_id=[0m119e6c46 [36mspan_id=[0md7a8a8680353e594 [36mtrace_id=[0m86be1e9b381d85efcc47612135a78a9a Timestamp:Oct  6 20:30:44.378535 TRC Level: File:pkg/repository/workspace/repository.go:145 Message:[sql]: SELECT * FROM "workspaces" WHERE id = $1 AND "workspaces"."deleted_at" IS NULL LIMIT 1 Fields:map[db.error:record not found db.operation:select db.rows:0 db.table:workspaces duration:5.891482 location:["/app/pkg/repository/workspace/repository.go:145","/app/pkg/handlers/stripe.go:144","/app/pkg/handlers/stripe.go:314"] request_id:119e6c46 span_id:d7a8a8680353e594 trace_id:86be1e9b381d85efcc47612135a78a9a] IsJSON:false JSONFields:map[]}
container:  187a2420ba58 lines:  2
container: 187a2420ba58 line: [90mOct  6 20:30:44.381345[0m [32mINF[0m [1mpkg/observability/logging/logging.go:110[0m[36m >[0m [1m2025-10-06T20:30:44Z POST /stripe/webhook - 200 (26 bytes)[0m [36mip=[0m52.15.183.38 [36mlatency=[0m28.505539 [36mmethod=[0mPOST [36mpath=[0m/stripe/webhook [36mrequest_id=[0m119e6c46 [36mstatus=[0m200 [36muser-agent=[0m"Stripe/1.0 (+https://stripe.com/docs/webhooks)"
container: 187a2420ba58 entry: &{Raw:[90mOct  6 20:30:44.381345